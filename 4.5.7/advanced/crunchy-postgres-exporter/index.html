<!DOCTYPE html>
<html>
  <head>
    
    <title>PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.55.6" />
<title>Crunchy Postgres Exporter :: PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
<link rel="shortcut icon" href="https://crunchydata.github.io/postgres-operator/4.5.7/favicon.png" type="image/x-icon" />
<link href="https://crunchydata.github.io/postgres-operator/4.5.7/css/nucleus.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.5.7/theme-flex/style.css" rel="stylesheet">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://crunchydata.github.io/postgres-operator/4.5.7/css/Fort-Fonts.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.5.7/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="https://crunchydata.github.io/postgres-operator/4.5.7/js/jquery-2.x.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.5.7/js/main.js"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.5.7/js/toc.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.5.7";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/advanced/crunchy-postgres-exporter/">
    
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  
<a class="navbar-brand" href="https://www.crunchydata.com/"><img alt="Crunchy Data" src="https://crunchydata.github.io/postgres-operator/4.5.7/images/logo.svg"></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav mr-auto"></ul>
  <span class="navbar-text">
      <nav class="shortcuts">
              <li class="" role="">
                  <a href="https://crunchydata.github.io/postgres-operator/4.5.7/" target="_blank" rel="noopener">
                    <label>Overview</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator" target="_blank" rel="noopener">
                    <i class='fab fa-github'></i> <label>Source</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://kubernetes.io/docs/" target="_blank" rel="noopener">
                    <i class='fas fa-bookmark'></i> <label>Kubernetes</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator/blob/master/LICENSE.md" target="_blank" rel="noopener">
                    <i class='fas fa-file-contract'></i> <label>License</label>
                  </a>
              </li>
      </nav>
  </span>
</nav>

<article>
  <aside>

    <ul class="menu">
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.5.7/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.5.7/js/auto-complete.js"></script>
        <link href="https://crunchydata.github.io/postgres-operator/4.5.7/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.5.7";
          
        </script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.5.7/js/search.js"></script>
      </div>

      <hr>
      <a class="baselink" href="https://crunchydata.github.io/postgres-operator/4.5.7/">PGO: PostgreSQL Operator from Crunchy Data Documentation</a>
      <hr>
        <b>Available Formats</b>
        <nav class="downloads">
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pdf/postgres_operator.pdf" target="_blank" rel="noopener">
                      <i class='fas fa-file-pdf'></i> <label>PDF</label>
                    </a>
                </li>
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.5.7/epub/postgres_operator.epub" target="_blank" rel="noopener">
                      <i class='fas fa-book'></i> <label>EPUB</label>
                    </a>
                </li>
        </nav>
        <hr>

      <b>Navigation</b>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/quickstart/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/quickstart/">Quickstart</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/">Tutorial</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/getting-started/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/getting-started/">
            Getting Started
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/create-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/create-cluster/">
            Create a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/connect-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/connect-cluster/">
            Connect to a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/customize-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/customize-cluster/">
            Customize a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/update-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/update-cluster/">
            Update a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/delete-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/delete-cluster/">
            Delete a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/tls/">
            Setup TLS
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/pgbouncer/">
            pgBouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/high-availability/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/high-availability/">
            High Availability
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/pgdump/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/tutorial/pgdump/">
            Logical Backups (pg_dump)
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/">Architecture</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/overview/">
            Overview
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/provisioning/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/provisioning/">
            Provisioning
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/high-availability/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/high-availability/">High-Availability</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/high-availability/multi-cluster-kubernetes/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/high-availability/multi-cluster-kubernetes/">
            Kubernetes Multi-Cluster Deployments
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/monitoring/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/monitoring/">
            Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/namespace/">
            Namespace Management
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/eventing/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/eventing/">
            Lifecycle Events
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/postgres-operator-containers-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/postgres-operator-containers-overview/">
            PostgreSQL Containers
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/storage-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/storage-overview/">
            Storage
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/users-role-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/users-role-overview/">
            User &amp; Roles
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/tablespaces/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/tablespaces/">
            Tablespaces
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/pgadmin4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/architecture/pgadmin4/">
            pgAdmin 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/">Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/compatibility/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/compatibility/">
            Compatibility Requirements
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/configuration/">
            Configuration Resources
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/pgo-yaml-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/pgo-yaml-configuration/">
            PGO YAML
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/configuration/tls/">
            TLS
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/">Installation</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/postgres-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/postgres-operator/">
            Install PGO the Postgres Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/pgo-client/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/pgo-client/">
            Install &#34;pgo&#34; Client
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/configuration/">
            Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/installing-ansible/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/installing-ansible/">
            Installing Ansible
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/installing-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/installing-operator/">
            Installing PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/updating-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/updating-operator/">
            Updating PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/uninstalling-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/ansible/uninstalling-operator/">
            Uninstalling PostgreSQL Operator
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/bash/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/bash/">
            Bash Scripts
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/helm/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/helm/">
            Helm Chart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/google-cloud-marketplace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/google-cloud-marketplace/">
            Google Cloud Marketplace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/operator-hub/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/other/operator-hub/">
            OperatorHub.io
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/">PostgreSQL Operator Monitoring</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/metrics-prerequisites/">
            Monitoring Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/postgres-operator-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/postgres-operator-metrics/">
            Install PostgreSQL Operator Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/metrics-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/metrics-configuration/">
            Monitoring Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/metrics-prerequisites/">
            Metrics Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/installing-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/installing-metrics/">
            Installing the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/updating-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/updating-metrics/">
            Updating the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/uninstalling-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/ansible/uninstalling-metrics/">
            Uninstalling the Monitoring Infrastructure
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/helm-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/installation/metrics/other/helm-metrics/">
            Monitoring Helm Chart
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/">Using the pgo Client</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/common-tasks/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/common-tasks/">
            Common pgo Client Tasks
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/">pgo Client Reference</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_apply/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_apply/">
            pgo apply
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_backup/">
            pgo backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_cat/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_cat/">
            pgo cat
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_clone/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_clone/">
            pgo clone
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create/">
            pgo create
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_cluster/">
            pgo create cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_namespace/">
            pgo create namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgadmin/">
            pgo create pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgbouncer/">
            pgo create pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgorole/">
            pgo create pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_pgouser/">
            pgo create pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_policy/">
            pgo create policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_schedule/">
            pgo create schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_create_user/">
            pgo create user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete/">
            pgo delete
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_backup/">
            pgo delete backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_cluster/">
            pgo delete cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_label/">
            pgo delete label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_namespace/">
            pgo delete namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgadmin/">
            pgo delete pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgbouncer/">
            pgo delete pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgorole/">
            pgo delete pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_pgouser/">
            pgo delete pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_policy/">
            pgo delete policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_schedule/">
            pgo delete schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_delete_user/">
            pgo delete user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_df/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_df/">
            pgo df
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_failover/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_failover/">
            pgo failover
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_label/">
            pgo label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_reload/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_reload/">
            pgo reload
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_restart/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_restart/">
            pgo restart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_restore/">
            pgo restore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_scale/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_scale/">
            pgo scale
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_scaledown/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_scaledown/">
            pgo scaledown
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show/">
            pgo show
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_backup/">
            pgo show backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_cluster/">
            pgo show cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_config/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_config/">
            pgo show config
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_namespace/">
            pgo show namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgadmin/">
            pgo show pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgbouncer/">
            pgo show pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgorole/">
            pgo show pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pgouser/">
            pgo show pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_policy/">
            pgo show policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pvc/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_pvc/">
            pgo show pvc
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_schedule/">
            pgo show schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_user/">
            pgo show user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_workflow/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_show_workflow/">
            pgo show workflow
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_status/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_status/">
            pgo status
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_test/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_test/">
            pgo test
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update/">
            pgo update
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_cluster/">
            pgo update cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_namespace/">
            pgo update namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgbouncer/">
            pgo update pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgorole/">
            pgo update pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_pgouser/">
            pgo update pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_update_user/">
            pgo update user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_upgrade/">
            pgo upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_version/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_version/">
            pgo version
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_watch/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/pgo-client/reference/pgo_watch/">
            pgo watch
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/custom-resources/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/custom-resources/">Using Custom Resources</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/security/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/security/">RBAC Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/security/configure-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/security/configure-postgres-operator-rbac/">
            Configuration of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/security/install-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/security/install-postgres-operator-rbac/">
            Installation of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/security/api-encryption-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/security/api-encryption-configuration/">
            PostgreSQL Operator API Encryption Configuration
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/" class="dd-item parent haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/">Advanced Topics</a>
            <i class="fas fa-angle-down fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/crunchy-postgres-exporter/" class="dd-item active">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/crunchy-postgres-exporter/">
            Crunchy Postgres Exporter
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/custom-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/custom-configuration/">
            Custom Configuration
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/multi-zone-design-considerations/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/multi-zone-design-considerations/">
            Multi-Zone Cloud Considerations
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/direct-api-calls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/direct-api-calls/">
            Rest API
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/">Upgrade</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/automatedupgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/automatedupgrade/">
            Automated PostgreSQL Operator Upgrade - Operator 4.1&#43;
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/">Manual Upgrades</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/upgrade35/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/upgrade35/">
            Manual Upgrade - Operator 3.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/upgrade4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/manual/upgrade4/">
            Manual Upgrade - Operator 4
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/upgrade/metrics/">
            Monitoring Upgrade Guidance
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/">Contributing</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/developer-setup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/developer-setup/">
            Development Environment
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/documentation-updates/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/documentation-updates/">
            Updating Documentation
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/issues/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/issues/">
            Submitting Issues
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/pull-requests/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/pull-requests/">
            Submitting Pull Requests
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/">Release Notes</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.7/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.7/">
            4.5.7
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.6/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.6/">
            4.5.6
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.5/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.5/">
            4.5.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.4/">
            4.5.4
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.3/">
            4.5.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.2/">
            4.5.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.1/">
            4.5.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.5.0/">
            4.5.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.4.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.4.1/">
            4.4.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.4.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.4.0/">
            4.4.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.3/">
            4.3.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.2/">
            4.3.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.1/">
            4.3.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.3.0/">
            4.3.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.2/">
            4.2.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.1/">
            4.2.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.2.0/">
            4.2.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.2/">
            4.1.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.1/">
            4.1.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.5.7/releases/4.1.0/">
            4.1.0
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.5.7/support/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.5.7/support/">Support</a>

      </div>
    </li>




      <hr><nav id="TableOfContents"></nav>



      <section>
      </section>
    </ul>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/quickstart/" >
   Quickstart</option>
    <option value="/tutorial/" >
   Tutorial</option>
    <option value="/architecture/" >
   Architecture</option>
    <option value="/configuration/" >
   Configuration</option>
    <option value="/installation/" >
   Installation</option>
    <option value="/pgo-client/" >
   Using the pgo Client</option>
    <option value="/custom-resources/" >
   Using Custom Resources</option>
    <option value="/security/" >
   RBAC Configuration</option>
    <option value="/advanced/" >
   Advanced Topics</option> 
      <option value="/advanced/crunchy-postgres-exporter/"  selected>- Crunchy Postgres Exporter</option>
      <option value="/advanced/custom-configuration/" >- Custom Configuration</option>
      <option value="/advanced/multi-zone-design-considerations/" >- Multi-Zone Cloud Considerations</option>
      <option value="/advanced/direct-api-calls/" >- Rest API</option>
  
    <option value="/upgrade/" >
   Upgrade</option>
    <option value="/contributing/" >
   Contributing</option>
    <option value="/releases/" >
   Release Notes</option>
    <option value="/support/" >
   Support</option>



        </select>
      </center>
    </div>

    
      <div id="top-bar">
        
          
          
          
        <div id="top-github-link">
          <a class="github-link" href="https://crunchydata.github.io/postgres-operator/4.5.7/contributing/" target="blank">
            <i class="fa fa-info-circle"></i>
            
          </a>
          <a class="github-link" href="https://github.com/CrunchyData/postgres-operator/edit/master/docs/content/advanced/crunchy-postgres-exporter.md" target="blank">
            <i class="fa fa-code-fork"></i>
            
          </a>
        </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
            <span class="links">
            







 <a href='https://crunchydata.github.io/postgres-operator/4.5.7/'>PGO: The Postgres Operator from Crunchy Data</a> > <a href='https://crunchydata.github.io/postgres-operator/4.5.7/advanced/'>Advanced Topics</a> > Crunchy Postgres Exporter

 

 


            </span>
        </div>

      </div>
    

    
    <div id="body-inner">

    <h1>Crunchy Postgres Exporter</h1>

    

    
    

<p>The crunchy-postgres-exporter container provides real time metrics about the PostgreSQL database
via an API. These metrics are scraped and stored by a <a href="https://prometheus.io">Prometheus</a>
time-series database and are then graphed and visualized through the open source data
visualizer <a href="https://grafana.com/">Grafana</a>.</p>

<p>The crunchy-postgres-exporter container uses <a href="https://github.com/CrunchyData/pgmonitor">pgMonitor</a> for advanced metric collection.
It is required that the <code>crunchy-postgres-ha</code> container has the <code>PGMONITOR_PASSWORD</code> environment
variable to create the appropriate user (<code>ccp_monitoring</code>) to collect metrics.</p>

<p>Custom queries to collect metrics can be specified by the user. By
mounting a <strong>queries.yml</strong> file to <em>/conf</em> on the container, additional metrics
can be specified for the API to collect. For an example of a queries.yml file, see
<a href="https://github.com/CrunchyData/pgmonitor/blob/master/exporter/postgres/queries_common.yml">here</a></p>

<h2 id="packages">Packages</h2>

<p>The crunchy-postgres-exporter Docker image contains the following packages (versions vary depending on PostgreSQL version):</p>

<ul>
<li>PostgreSQL (13.7, 12.11, 11.16, and 10.21</li>
<li>CentOS 7, UBI 8 - publicly available</li>
<li>UBI 7, 8 - customers only</li>
<li><a href="https://github.com/wrouesnel/postgres_exporter">PostgreSQL Exporter</a></li>
</ul>

<h2 id="environment-variables">Environment Variables</h2>

<h3 id="required">Required</h3>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Default</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>EXPORTER_PG_PASSWORD</strong></td>
<td align="left">none</td>
<td align="left">Provides the password needed to generate the PostgreSQL URL required by the PostgreSQL Exporter to connect to a PG database.  Should typically match the <code>PGMONITOR_PASSWORD</code> value set in the <code>crunchy-postgres</code> container.</td>
</tr>
</tbody>
</table>

<h3 id="optional">Optional</h3>

<table>
<thead>
<tr>
<th align="left"><strong>Name</strong></th>
<th align="left"><strong>Default</strong></th>
<th align="left"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><strong>EXPORTER_PG_USER</strong></td>
<td align="left">ccp_monitoring</td>
<td align="left">Provides the username needed to generate the PostgreSQL URL required by the PostgreSQL Exporter to connect to a PG database.  Should typically be <code>ccp_monitoring</code> per the <a href="https://crunchydata.github.io/postgres-operator/4.5.7/container-specifications/crunchy-postgres">crunchy-postgres</a> container specification (see environment varaible <code>PGMONITOR_PASSWORD</code>).</td>
</tr>

<tr>
<td align="left"><strong>EXPORTER_PG_HOST</strong></td>
<td align="left">127.0.0.1</td>
<td align="left">Provides the host needed to generate the PostgreSQL URL required by the PostgreSQL Exporter to connect to a PG database</td>
</tr>

<tr>
<td align="left"><strong>EXPORTER_PG_PORT</strong></td>
<td align="left">5432</td>
<td align="left">Provides the port needed to generate the PostgreSQL URL required by the PostgreSQL Exporter to connect to a PG database</td>
</tr>

<tr>
<td align="left"><strong>EXPORTER_PG_DATABASE</strong></td>
<td align="left">postgres</td>
<td align="left">Provides the name of the database used to generate the PostgreSQL URL required by the PostgreSQL Exporter to connect to a PG database</td>
</tr>

<tr>
<td align="left"><strong>DATA_SOURCE_NAME</strong></td>
<td align="left">None</td>
<td align="left">Explicitly defines the URL for connecting to the PostgreSQL database (must be in the form of <code>postgresql://</code>).  If provided, overrides all other settings provided to generate the connection URL.</td>
</tr>

<tr>
<td align="left"><strong>CRUNCHY_DEBUG</strong></td>
<td align="left">FALSE</td>
<td align="left">Set this to true to enable debugging in logs. Note: this mode can reveal secrets in logs.</td>
</tr>

<tr>
<td align="left"><strong>POSTGRES_EXPORTER_PORT</strong></td>
<td align="left">9187</td>
<td align="left">Set the postgres-exporter port to listen on for web interface and telemetry.</td>
</tr>
</tbody>
</table>

<h3 id="viewing-cluster-metrics">Viewing Cluster Metrics</h3>

<p>To view a particular cluster&rsquo;s available metrics in a local browser window, port forwarding can be set up as follows.
For a pgcluster, <code>mycluster</code>, deployed in the <code>pgouser1</code> namespace, use</p>

<pre><code># If deployed to Kubernetes
kubectl port-forward -n pgouser1 svc/mycluster 9187:9187

# If deployed to OpenShift
oc port-forward -n pgouser1 svc/mycluster 9187:9187
</code></pre>

<p>Then, in your local browser, go to <code>http://127.0.0.1:9187/metrics</code> to view the available metrics for that cluster.</p>

<h1 id="crunchy-postgres-exporter-metrics-detail">Crunchy Postgres Exporter Metrics Detail</h1>

<p>Below are details on the various metrics available from the crunchy-postgres-exporter container.
The name, SQL query and metric details are given for each available item.</p>


<h2>queries_backrest</h2>


<h3>ccp_backrest_last_diff_backup</h3>
<h4>SQL Query:</h4>
WITH all_backups AS ( SELECT config_file , jsonb_array_elements(data) AS stanza_data FROM monitor.pgbackrest_info(#PGBACKREST_INFO_THROTTLE_MINUTES#) ) , per_stanza AS ( SELECT config_file , stanza_data-&gt;&gt;&#39;name&#39; AS stanza , jsonb_array_elements(stanza_data-&gt;&#39;backup&#39;) AS backup_data FROM all_backups ) SELECT config_file , stanza , extract(epoch from (CURRENT_TIMESTAMP - max(to_timestamp((backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39;)::bigint)))) AS time_since_completion_seconds FROM per_stanza WHERE backup_data-&gt;&gt;&#39;type&#39; IN (&#39;full&#39;, &#39;diff&#39;) GROUP BY config_file, stanza

<h4>Metrics:</h4>


<h5>config_file</h5>
Configuration file for this backup



<h5>stanza</h5>
PGBackrest Stanza Name



<h5>time_since_completion_seconds</h5>
Seconds since the last completed full or differential backup. Differential is always based off last full.



<h3>ccp_backrest_last_full_backup</h3>
<h4>SQL Query:</h4>
WITH all_backups AS ( SELECT config_file , jsonb_array_elements(data) AS stanza_data FROM monitor.pgbackrest_info(#PGBACKREST_INFO_THROTTLE_MINUTES#) ) , per_stanza AS ( SELECT config_file , stanza_data-&gt;&gt;&#39;name&#39; AS stanza , jsonb_array_elements(stanza_data-&gt;&#39;backup&#39;) AS backup_data FROM all_backups ) SELECT config_file , stanza , extract(epoch from (CURRENT_TIMESTAMP - max(to_timestamp((backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39;)::bigint)))) AS time_since_completion_seconds FROM per_stanza WHERE backup_data-&gt;&gt;&#39;type&#39; IN (&#39;full&#39;) GROUP BY config_file, stanza

<h4>Metrics:</h4>


<h5>config_file</h5>
Configuration file for this backup



<h5>stanza</h5>
PGBackrest Stanza Name



<h5>time_since_completion_seconds</h5>
Seconds since the last completed full backup



<h3>ccp_backrest_last_incr_backup</h3>
<h4>SQL Query:</h4>
WITH all_backups AS ( SELECT config_file , jsonb_array_elements(data) AS stanza_data FROM monitor.pgbackrest_info(#PGBACKREST_INFO_THROTTLE_MINUTES#) ) , per_stanza AS ( SELECT config_file , stanza_data-&gt;&gt;&#39;name&#39; AS stanza , jsonb_array_elements(stanza_data-&gt;&#39;backup&#39;) AS backup_data FROM all_backups ) SELECT config_file , stanza , extract(epoch from (CURRENT_TIMESTAMP - max(to_timestamp((backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39;)::bigint)))) AS time_since_completion_seconds FROM per_stanza WHERE backup_data-&gt;&gt;&#39;type&#39; IN (&#39;full&#39;, &#39;diff&#39;, &#39;incr&#39;) GROUP BY config_file, stanza

<h4>Metrics:</h4>


<h5>config_file</h5>
Configuration file for this backup



<h5>stanza</h5>
PGBackrest Stanza Name



<h5>time_since_completion_seconds</h5>
Seconds since the last completed full, differential or incremental backup. Incremental is always based off last full or differential.



<h3>ccp_backrest_last_info</h3>
<h4>SQL Query:</h4>
WITH all_backups AS ( SELECT config_file , jsonb_array_elements(data) AS stanza_data FROM monitor.pgbackrest_info(#PGBACKREST_INFO_THROTTLE_MINUTES#) ) , per_stanza AS ( SELECT config_file , stanza_data-&gt;&gt;&#39;name&#39; AS stanza , jsonb_array_elements(stanza_data-&gt;&#39;backup&#39;) AS backup_data FROM all_backups ) SELECT a.config_file , a.stanza , a.backup_data-&gt;&gt;&#39;type&#39; AS backup_type , a.backup_data-&gt;&#39;info&#39;-&gt;&#39;repository&#39;-&gt;&gt;&#39;delta&#39; AS repo_backup_size_bytes , a.backup_data-&gt;&#39;info&#39;-&gt;&#39;repository&#39;-&gt;&gt;&#39;size&#39; AS repo_total_size_bytes , (a.backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39;)::bigint - (a.backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;start&#39;)::bigint AS backup_runtime_seconds FROM per_stanza a JOIN ( SELECT config_file , stanza , backup_data-&gt;&gt;&#39;type&#39; AS backup_type , max(backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;start&#39;) AS max_backup_start , max(backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39;) AS max_backup_stop FROM per_stanza GROUP BY 1,2,3) b ON a.config_file = b.config_file AND a.stanza = b.stanza AND a.backup_data-&gt;&gt;&#39;type&#39; = b.backup_type AND a.backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;start&#39; = b.max_backup_start AND a.backup_data-&gt;&#39;timestamp&#39;-&gt;&gt;&#39;stop&#39; = b.max_backup_stop;

<h4>Metrics:</h4>


<h5>config_file</h5>
Configuration file for this backup



<h5>stanza</h5>
PGBackrest Stanza Name



<h5>backup_type</h5>
Backup type



<h5>repo_backup_size_bytes</h5>
Actual size of only this individual backup in the pgbackrest repository



<h5>repo_total_size_bytes</h5>
Total size of this backup in the pgbackrest repository, including all required previous backups and WAL



<h5>backup_runtime_seconds</h5>
Total runtime in seconds of this backup




<h2>queries_common</h2>


<h3>ccp_archive_command_status</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN EXTRACT(epoch from (last_failed_time - last_archived_time)) IS NULL THEN 0 WHEN EXTRACT(epoch from (last_failed_time - last_archived_time)) &lt; 0 THEN 0 ELSE EXTRACT(epoch from (last_failed_time - last_archived_time)) END AS seconds_since_last_fail FROM pg_catalog.pg_stat_archiver

<h4>Metrics:</h4>


<h5>seconds_since_last_fail</h5>
Seconds since the last recorded failure of the archive_command



<h3>ccp_database_size</h3>
<h4>SQL Query:</h4>
SELECT datname as dbname, pg_database_size(datname) as bytes FROM pg_catalog.pg_database WHERE datistemplate = false

<h4>Metrics:</h4>


<h5>dbname</h5>
Database name



<h5>bytes</h5>
Database size in bytes



<h3>ccp_is_in_recovery</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_is_in_recovery = true THEN 1 ELSE 2 END AS status from pg_is_in_recovery();

<h4>Metrics:</h4>


<h5>status</h5>
Return value of 1 means database is in recovery. Otherwise 2 it is a primary.



<h3>ccp_locks</h3>
<h4>SQL Query:</h4>
SELECT pg_database.datname as dbname, tmp.mode, COALESCE(count,0) as count FROM ( VALUES (&#39;accesssharelock&#39;), (&#39;rowsharelock&#39;), (&#39;rowexclusivelock&#39;), (&#39;shareupdateexclusivelock&#39;), (&#39;sharelock&#39;), (&#39;sharerowexclusivelock&#39;), (&#39;exclusivelock&#39;), (&#39;accessexclusivelock&#39;) ) AS tmp(mode) CROSS JOIN pg_catalog.pg_database LEFT JOIN (SELECT database, lower(mode) AS mode,count(*) AS count FROM pg_catalog.pg_locks WHERE database IS NOT NULL GROUP BY database, lower(mode) ) AS tmp2 ON tmp.mode=tmp2.mode and pg_database.oid = tmp2.database

<h4>Metrics:</h4>


<h5>dbname</h5>
Database name



<h5>mode</h5>
Lock type



<h5>count</h5>
Number of locks



<h3>ccp_pg_settings_checksum</h3>
<h4>SQL Query:</h4>
SELECT monitor.pg_settings_checksum() AS status

<h4>Metrics:</h4>


<h5>status</h5>
Value of checksum monitioring status for pg_catalog.pg_settings (postgresql.conf). 0 = valid config. 1 = settings changed. To reset current config to valid after alert, run monitor.pg_settings_checksum_set_valid().



<h3>ccp_postgresql_version</h3>
<h4>SQL Query:</h4>
SELECT current_setting(&#39;server_version_num&#39;)::int AS current

<h4>Metrics:</h4>


<h5>current</h5>
The current version of PostgreSQL that this exporter is running on as a 6 digit integer (######).



<h3>ccp_postmaster_runtime</h3>
<h4>SQL Query:</h4>
SELECT extract(&#39;epoch&#39; from pg_postmaster_start_time) as start_time_seconds from pg_catalog.pg_postmaster_start_time()

<h4>Metrics:</h4>


<h5>start_time_seconds</h5>
Time at which postmaster started. Note this metric has been deprecated as of pgMonitor 4.3 and will be removed in a future version. Use ccp_postmaster_uptime_seconds instead.



<h3>ccp_postmaster_uptime</h3>
<h4>SQL Query:</h4>
SELECT extract(epoch from (now() - pg_postmaster_start_time() )) AS seconds;

<h4>Metrics:</h4>


<h5>seconds</h5>
Time interval in seconds since PostgreSQL database was last restarted



<h3>ccp_sequence_exhaustion</h3>
<h4>SQL Query:</h4>
SELECT count FROM monitor.sequence_exhaustion(75)

<h4>Metrics:</h4>


<h5>count</h5>
Count of sequences that have reached greater than or equal to 75% of their max available numbers. Function monitor.sequence_status() can provide more details if run directly on system.



<h3>ccp_settings_gauge</h3>
<h4>SQL Query:</h4>
select (select setting::int from pg_catalog.pg_settings where name = &#39;checkpoint_timeout&#39;) as checkpoint_timeout , (select setting::float from pg_catalog.pg_settings where name = &#39;checkpoint_completion_target&#39;) as checkpoint_completion_target , (select 8192*setting::bigint as bytes from pg_catalog.pg_settings where name = &#39;shared_buffers&#39;) as shared_buffers

<h4>Metrics:</h4>


<h5>checkpoint_timeout</h5>
Checkpoint timeout in seconds



<h5>checkpoint_completion_target</h5>
Checkpoint completion target, ranging from 0 to 1



<h5>shared_buffers</h5>
Size of shared_buffers in bytes



<h3>ccp_settings_pending_restart</h3>
<h4>SQL Query:</h4>
SELECT count(*) AS count FROM pg_catalog.pg_settings WHERE pending_restart = true

<h4>Metrics:</h4>


<h5>count</h5>
Number of settings from pg_settings catalog in a pending_restart state



<h3>ccp_stat_bgwriter</h3>
<h4>SQL Query:</h4>
SELECT checkpoints_timed, checkpoints_req, checkpoint_write_time, checkpoint_sync_time, buffers_checkpoint, buffers_clean, maxwritten_clean, buffers_backend, buffers_backend_fsync, buffers_alloc, stats_reset FROM pg_catalog.pg_stat_bgwriter

<h4>Metrics:</h4>


<h5>checkpoints_timed</h5>
Number of scheduled checkpoints that have been performed



<h5>checkpoints_req</h5>
Number of requested checkpoints that have been performed



<h5>checkpoint_write_time</h5>
Total amount of time that has been spent in the portion of checkpoint processing where files are written to disk, in milliseconds



<h5>checkpoint_sync_time</h5>
Total amount of time that has been spent in the portion of checkpoint processing where files are synchronized to disk, in milliseconds



<h5>buffers_checkpoint</h5>
Number of buffers written during checkpoints



<h5>buffers_clean</h5>
Number of buffers written by the background writer



<h5>maxwritten_clean</h5>
Number of times the background writer stopped a cleaning scan because it had written too many buffers



<h5>buffers_backend</h5>
Number of buffers written directly by a backend



<h5>buffers_backend_fsync</h5>
Number of times a backend had to execute its own fsync call (normally the background writer handles those even when the backend does its own write)



<h5>buffers_alloc</h5>
Number of buffers allocated



<h5>stats_reset</h5>
Time at which these statistics were last reset



<h3>ccp_stat_database</h3>
<h4>SQL Query:</h4>
SELECT s.datname as dbname, xact_commit, xact_rollback, blks_read, blks_hit, tup_returned, tup_fetched, tup_inserted, tup_updated, tup_deleted, conflicts, temp_files, temp_bytes, deadlocks FROM pg_catalog.pg_stat_database s JOIN pg_catalog.pg_database d on d.datname = s.datname WHERE d.datistemplate = false

<h4>Metrics:</h4>


<h5>dbname</h5>
Name of database



<h5>xact_commit</h5>
Number of transactions in this database that have been committed



<h5>xact_rollback</h5>
Number of transactions in this database that have been rolled back



<h5>blks_read</h5>
Number of disk blocks read in this database



<h5>blks_hit</h5>
Number of times disk blocks were found already in the buffer cache, so that a read was not necessary



<h5>tup_returned</h5>
Number of rows returned by queries in this database



<h5>tup_fetched</h5>
Number of rows fetched by queries in this database



<h5>tup_inserted</h5>
Number of rows inserted by queries in this database



<h5>tup_updated</h5>
Number of rows updated by queries in this database



<h5>tup_deleted</h5>
Number of rows deleted by queries in this database



<h5>conflicts</h5>
Number of queries canceled due to conflicts with recovery in this database



<h5>temp_files</h5>
Number of rows deleted by queries in this database



<h5>temp_bytes</h5>
Total amount of data written to temporary files by queries in this database



<h5>deadlocks</h5>
Number of deadlocks detected in this database



<h3>ccp_transaction_wraparound</h3>
<h4>SQL Query:</h4>
WITH max_age AS ( SELECT 2000000000 as max_old_xid, setting AS autovacuum_freeze_max_age FROM pg_catalog.pg_settings WHERE name = &#39;autovacuum_freeze_max_age&#39;), per_database_stats AS ( SELECT datname , m.max_old_xid::int , m.autovacuum_freeze_max_age::int , age(d.datfrozenxid) AS oldest_current_xid FROM pg_catalog.pg_database d JOIN max_age m ON (true) WHERE d.datallowconn) SELECT max(oldest_current_xid) AS oldest_current_xid , max(ROUND(100*(oldest_current_xid/max_old_xid::float))) AS percent_towards_wraparound , max(ROUND(100*(oldest_current_xid/autovacuum_freeze_max_age::float))) AS percent_towards_emergency_autovac FROM per_database_stats

<h4>Metrics:</h4>


<h5>oldest_current_xid</h5>
Oldest current transaction ID in cluster



<h5>percent_towards_wraparound</h5>
Percentage towards transaction ID wraparound



<h5>percent_towards_emergency_autovac</h5>
Percentage towards emergency autovacuum process starting




<h2>queries_per_db</h2>


<h3>ccp_stat_user_tables</h3>
<h4>SQL Query:</h4>
SELECT current_database() as dbname, schemaname, relname, seq_scan, seq_tup_read, idx_scan, idx_tup_fetch, n_tup_ins, n_tup_upd, n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, vacuum_count, autovacuum_count, analyze_count, autoanalyze_count FROM pg_catalog.pg_stat_user_tables

<h4>Metrics:</h4>


<h5>dbname</h5>
Database name



<h5>schemaname</h5>
Name of the schema that this table is in



<h5>relname</h5>
Name of this table



<h5>seq_scan</h5>
Number of sequential scans initiated on this table



<h5>seq_tup_read</h5>
Number of live rows fetched by sequential scans



<h5>idx_scan</h5>
Number of index scans initiated on this table



<h5>idx_tup_fetch</h5>
Number of live rows fetched by index scans



<h5>n_tup_ins</h5>
Number of rows inserted



<h5>n_tup_upd</h5>
Number of rows updated



<h5>n_tup_del</h5>
Number of rows deleted



<h5>n_tup_hot_upd</h5>
Number of rows HOT updated (i.e., with no separate index update required)



<h5>n_live_tup</h5>
Estimated number of live rows



<h5>n_dead_tup</h5>
Estimated number of dead rows



<h5>vacuum_count</h5>
Number of times this table has been manually vacuumed (not counting VACUUM FULL)



<h5>autovacuum_count</h5>
Number of times this table has been vacuumed by the autovacuum daemon



<h5>analyze_count</h5>
Number of times this table has been manually analyzed



<h5>autoanalyze_count</h5>
Number of times this table has been analyzed by the autovacuum daemon



<h3>ccp_table_size</h3>
<h4>SQL Query:</h4>
SELECT current_database() as dbname, n.nspname as schemaname, c.relname, pg_total_relation_size(c.oid) as size_bytes FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid WHERE NOT pg_is_other_temp_schema(n.oid) AND relkind IN (&#39;r&#39;, &#39;m&#39;, &#39;f&#39;)

<h4>Metrics:</h4>


<h5>dbname</h5>
Database name



<h5>schemaname</h5>
Schema name



<h5>relname</h5>
Table name



<h5>size_bytes</h5>
Table size including indexes




<h2>queries_pg10</h2>


<h3>ccp_connection_stats</h3>
<h4>SQL Query:</h4>
select ((total - idle) - idle_in_txn) as active , total , idle , idle_in_txn , (select coalesce(extract(epoch from (max(now() - state_change))),0) from pg_catalog.pg_stat_activity where state = &#39;idle in transaction&#39;) as max_idle_in_txn_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and state &lt;&gt; &#39;idle&#39; ) as max_query_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and wait_event_type = &#39;Lock&#39; ) as max_blocked_query_time , max_connections from ( select count(*) as total , coalesce(sum(case when state = &#39;idle&#39; then 1 else 0 end),0) as idle , coalesce(sum(case when state = &#39;idle in transaction&#39; then 1 else 0 end),0) as idle_in_txn from pg_catalog.pg_stat_activity) x join (select setting::float AS max_connections FROM pg_settings WHERE name = &#39;max_connections&#39;) xx ON (true);

<h4>Metrics:</h4>


<h5>active</h5>
Total non-idle connections



<h5>total</h5>
Total idle and non-idle connections



<h5>idle</h5>
Total idle connections



<h5>idle_in_txn</h5>
Total idle in transaction connections



<h5>max_idle_in_txn_time</h5>
Length of time in seconds of the longest idle in transaction session



<h5>max_query_time</h5>
Length of time in seconds of the longest running query



<h5>max_blocked_query_time</h5>
Length of time in seconds of the longest running query that has been blocked by a heavyweight lock



<h5>max_connections</h5>
Value of max_connections for the monitored database



<h3>ccp_pg_hba_checksum</h3>
<h4>SQL Query:</h4>
SELECT monitor.pg_hba_checksum() AS status

<h4>Metrics:</h4>


<h5>status</h5>
Value of checksum monitioring status for pg_catalog.pg_hba_file_rules (pg_hba.conf). 0 = valid config. 1 = settings changed. To reset current config to valid after alert, run monitor.pg_hba_checksum_set_valid().



<h3>ccp_replication_lag</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_last_wal_receive_lsn() = pg_last_wal_replay_lsn() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::INTEGER END AS replay_time

<h4>Metrics:</h4>


<h5>replay_time</h5>
Length of time since the last transaction was replayed on replica. Will always increase if no writes on primary.



<h3>ccp_replication_lag_size</h3>
<h4>SQL Query:</h4>
SELECT client_addr as replica , client_hostname as replica_hostname , client_port as replica_port , pg_wal_lsn_diff(sent_lsn, replay_lsn) as bytes FROM pg_catalog.pg_stat_replication

<h4>Metrics:</h4>


<h5>replica</h5>
Replica address



<h5>replica_hostname</h5>
Replica hostname



<h5>replica_port</h5>
Replica port



<h5>bytes</h5>
Replication lag in bytes



<h3>ccp_replication_slots</h3>
<h4>SQL Query:</h4>
SELECT slot_name, active::int, pg_wal_lsn_diff(pg_current_wal_insert_lsn(), restart_lsn) AS retained_bytes FROM pg_catalog.pg_replication_slots

<h4>Metrics:</h4>


<h5>slot_name</h5>
Name of replication slot



<h5>active</h5>
Active state of slot. 1 = true. 0 = false.



<h5>retained_bytes</h5>
The amount of WAL (in bytes) being retained for this slot



<h3>ccp_wal_activity</h3>
<h4>SQL Query:</h4>
SELECT last_5_min_size_bytes, (SELECT COALESCE(sum(size),0) FROM pg_catalog.pg_ls_waldir()) AS total_size_bytes FROM (SELECT COALESCE(sum(size),0) AS last_5_min_size_bytes FROM pg_catalog.pg_ls_waldir() WHERE modification &gt; CURRENT_TIMESTAMP - &#39;5 minutes&#39;::interval) x;

<h4>Metrics:</h4>


<h5>last_5_min_size_bytes</h5>
Current size in bytes of the last 5 minutes of WAL generation. Includes recycled WALs.



<h5>total_size_bytes</h5>
Current size in bytes of the WAL directory




<h2>queries_pg11</h2>


<h3>ccp_connection_stats</h3>
<h4>SQL Query:</h4>
select ((total - idle) - idle_in_txn) as active , total , idle , idle_in_txn , (select coalesce(extract(epoch from (max(now() - state_change))),0) from pg_catalog.pg_stat_activity where state = &#39;idle in transaction&#39;) as max_idle_in_txn_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and state &lt;&gt; &#39;idle&#39; ) as max_query_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and wait_event_type = &#39;Lock&#39; ) as max_blocked_query_time , max_connections from ( select count(*) as total , coalesce(sum(case when state = &#39;idle&#39; then 1 else 0 end),0) as idle , coalesce(sum(case when state = &#39;idle in transaction&#39; then 1 else 0 end),0) as idle_in_txn from pg_catalog.pg_stat_activity) x join (select setting::float AS max_connections FROM pg_settings WHERE name = &#39;max_connections&#39;) xx ON (true);

<h4>Metrics:</h4>


<h5>active</h5>
Total non-idle connections



<h5>total</h5>
Total idle and non-idle connections



<h5>idle</h5>
Total idle connections



<h5>idle_in_txn</h5>
Total idle in transaction connections



<h5>max_idle_in_txn_time</h5>
Length of time in seconds of the longest idle in transaction session



<h5>max_query_time</h5>
Length of time in seconds of the longest running query



<h5>max_blocked_query_time</h5>
Length of time in seconds of the longest running query that has been blocked by a heavyweight lock



<h5>max_connections</h5>
Value of max_connections for the monitored database



<h3>ccp_pg_hba_checksum</h3>
<h4>SQL Query:</h4>
SELECT monitor.pg_hba_checksum() AS status

<h4>Metrics:</h4>


<h5>status</h5>
Value of checksum monitioring status for pg_catalog.pg_hba_file_rules (pg_hba.conf). 0 = valid config. 1 = settings changed. To reset current config to valid after alert, run monitor.pg_hba_checksum_set_valid().



<h3>ccp_replication_lag</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_last_wal_receive_lsn() = pg_last_wal_replay_lsn() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::INTEGER END AS replay_time

<h4>Metrics:</h4>


<h5>replay_time</h5>
Length of time since the last transaction was replayed on replica. Will always increase if no writes on primary.



<h3>ccp_replication_lag_size</h3>
<h4>SQL Query:</h4>
SELECT client_addr as replica , client_hostname as replica_hostname , client_port as replica_port , pg_wal_lsn_diff(sent_lsn, replay_lsn) as bytes FROM pg_catalog.pg_stat_replication

<h4>Metrics:</h4>


<h5>replica</h5>
Replica address



<h5>replica_hostname</h5>
Replica hostname



<h5>replica_port</h5>
Replica port



<h5>bytes</h5>
Replication lag in bytes



<h3>ccp_replication_slots</h3>
<h4>SQL Query:</h4>
SELECT slot_name, active::int, pg_wal_lsn_diff(pg_current_wal_insert_lsn(), restart_lsn) AS retained_bytes FROM pg_catalog.pg_replication_slots

<h4>Metrics:</h4>


<h5>slot_name</h5>
Name of replication slot



<h5>active</h5>
Active state of slot. 1 = true. 0 = false.



<h5>retained_bytes</h5>
The amount of WAL (in bytes) being retained for this slot



<h3>ccp_wal_activity</h3>
<h4>SQL Query:</h4>
SELECT last_5_min_size_bytes, (SELECT COALESCE(sum(size),0) FROM pg_catalog.pg_ls_waldir()) AS total_size_bytes FROM (SELECT COALESCE(sum(size),0) AS last_5_min_size_bytes FROM pg_catalog.pg_ls_waldir() WHERE modification &gt; CURRENT_TIMESTAMP - &#39;5 minutes&#39;::interval) x;

<h4>Metrics:</h4>


<h5>last_5_min_size_bytes</h5>
Current size in bytes of the last 5 minutes of WAL generation. Includes recycled WALs.



<h5>total_size_bytes</h5>
Current size in bytes of the WAL directory




<h2>queries_pg12</h2>


<h3>ccp_connection_stats</h3>
<h4>SQL Query:</h4>
select ((total - idle) - idle_in_txn) as active , total , idle , idle_in_txn , (select coalesce(extract(epoch from (max(now() - state_change))),0) from pg_catalog.pg_stat_activity where state = &#39;idle in transaction&#39;) as max_idle_in_txn_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and state &lt;&gt; &#39;idle&#39; ) as max_query_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where backend_type = &#39;client backend&#39; and wait_event_type = &#39;Lock&#39; ) as max_blocked_query_time , max_connections from ( select count(*) as total , coalesce(sum(case when state = &#39;idle&#39; then 1 else 0 end),0) as idle , coalesce(sum(case when state = &#39;idle in transaction&#39; then 1 else 0 end),0) as idle_in_txn from pg_catalog.pg_stat_activity) x join (select setting::float AS max_connections FROM pg_settings WHERE name = &#39;max_connections&#39;) xx ON (true);

<h4>Metrics:</h4>


<h5>active</h5>
Total non-idle connections



<h5>total</h5>
Total idle and non-idle connections



<h5>idle</h5>
Total idle connections



<h5>idle_in_txn</h5>
Total idle in transaction connections



<h5>max_idle_in_txn_time</h5>
Length of time in seconds of the longest idle in transaction session



<h5>max_query_time</h5>
Length of time in seconds of the longest running query



<h5>max_blocked_query_time</h5>
Length of time in seconds of the longest running query that has been blocked by a heavyweight lock



<h5>max_connections</h5>
Value of max_connections for the monitored database



<h3>ccp_data_checksum_failure</h3>
<h4>SQL Query:</h4>
SELECT datname AS dbname , checksum_failures AS count , coalesce(extract(epoch from (now() - checksum_last_failure)), 0) AS time_since_last_failure_seconds FROM pg_catalog.pg_stat_database;

<h4>Metrics:</h4>


<h5>dbname</h5>
Database name



<h5>count</h5>
Total number of checksum failures on this database



<h5>time_since_last_failure_seconds</h5>
Time interval in seconds since the last checksum failure was encountered



<h3>ccp_pg_hba_checksum</h3>
<h4>SQL Query:</h4>
SELECT monitor.pg_hba_checksum() AS status

<h4>Metrics:</h4>


<h5>status</h5>
Value of checksum monitioring status for pg_catalog.pg_hba_file_rules (pg_hba.conf). 0 = valid config. 1 = settings changed. To reset current config to valid after alert, run monitor.pg_hba_checksum_set_valid().



<h3>ccp_replication_lag</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_last_wal_receive_lsn() = pg_last_wal_replay_lsn() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::INTEGER END AS replay_time

<h4>Metrics:</h4>


<h5>replay_time</h5>
Length of time since the last transaction was replayed on replica. Will always increase if no writes on primary.



<h3>ccp_replication_lag_size</h3>
<h4>SQL Query:</h4>
SELECT client_addr as replica , client_hostname as replica_hostname , client_port as replica_port , pg_wal_lsn_diff(sent_lsn, replay_lsn) as bytes FROM pg_catalog.pg_stat_replication

<h4>Metrics:</h4>


<h5>replica</h5>
Replica address



<h5>replica_hostname</h5>
Replica hostname



<h5>replica_port</h5>
Replica port



<h5>bytes</h5>
Replication lag in bytes



<h3>ccp_replication_slots</h3>
<h4>SQL Query:</h4>
SELECT slot_name, active::int, pg_wal_lsn_diff(pg_current_wal_insert_lsn(), restart_lsn) AS retained_bytes FROM pg_catalog.pg_replication_slots

<h4>Metrics:</h4>


<h5>slot_name</h5>
Name of replication slot



<h5>active</h5>
Active state of slot. 1 = true. 0 = false.



<h5>retained_bytes</h5>
The amount of WAL (in bytes) being retained for this slot



<h3>ccp_wal_activity</h3>
<h4>SQL Query:</h4>
SELECT last_5_min_size_bytes, (SELECT COALESCE(sum(size),0) FROM pg_catalog.pg_ls_waldir()) AS total_size_bytes FROM (SELECT COALESCE(sum(size),0) AS last_5_min_size_bytes FROM pg_catalog.pg_ls_waldir() WHERE modification &gt; CURRENT_TIMESTAMP - &#39;5 minutes&#39;::interval) x;

<h4>Metrics:</h4>


<h5>last_5_min_size_bytes</h5>
Current size in bytes of the last 5 minutes of WAL generation. Includes recycled WALs.



<h5>total_size_bytes</h5>
Current size in bytes of the WAL directory




<h2>queries_pg95</h2>


<h3>ccp_connection_stats</h3>
<h4>SQL Query:</h4>
select ((total - idle) - idle_in_txn) as active , total , idle , idle_in_txn , (select coalesce(extract(epoch from (max(now() - state_change))),0) from monitor.pg_stat_activity() where state = &#39;idle in transaction&#39;) as max_idle_in_txn_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from monitor.pg_stat_activity() where state &lt;&gt; &#39;idle&#39;) as max_query_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from monitor.pg_stat_activity() where waiting = &#39;t&#39; ) as max_blocked_query_time , max_connections from ( select count(*) as total , coalesce(sum(case when state = &#39;idle&#39; then 1 else 0 end),0) as idle , coalesce(sum(case when state = &#39;idle in transaction&#39; then 1 else 0 end),0) as idle_in_txn from monitor.pg_stat_activity()) x join (select setting::float AS max_connections FROM pg_settings WHERE name = &#39;max_connections&#39;) xx ON (true);

<h4>Metrics:</h4>


<h5>active</h5>
Total non-idle connections



<h5>total</h5>
Total idle and non-idle connections



<h5>idle</h5>
Total idle connections



<h5>idle_in_txn</h5>
Total idle in transaction connections



<h5>max_idle_in_txn_time</h5>
Length of time in seconds of the longest idle in transaction session



<h5>max_query_time</h5>
Length of time in seconds of the longest running query



<h5>max_blocked_query_time</h5>
Length of time in seconds of the longest running query that has been blocked by a heavyweight lock



<h5>max_connections</h5>
Value of max_connections for the monitored database



<h3>ccp_replication_lag</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_last_xlog_receive_location() = pg_last_xlog_replay_location() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::INTEGER END AS replay_time

<h4>Metrics:</h4>


<h5>replay_time</h5>
Length of time since the last transaction was replayed on replica. Will always increase if no writes on primary.



<h3>ccp_replication_lag_size</h3>
<h4>SQL Query:</h4>
SELECT replica_addr::text as replica , replica_hostname::text , replica_port::text , byte_lag::bigint as bytes FROM monitor.streaming_replica_check();

<h4>Metrics:</h4>


<h5>replica</h5>
Replica IP address



<h5>replica_hostname</h5>
Hostname of replica system (if available)



<h5>replica_port</h5>
Replica port



<h5>bytes</h5>
Replication lag in bytes between primary and replica



<h3>ccp_replication_slots</h3>
<h4>SQL Query:</h4>
SELECT slot_name, active::int, pg_xlog_location_diff(pg_current_xlog_insert_location(), restart_lsn) AS retained_bytes FROM pg_catalog.pg_replication_slots

<h4>Metrics:</h4>


<h5>slot_name</h5>
Name of replication slot



<h5>active</h5>
Active state of slot. 1 = true. 0 = false.



<h5>retained_bytes</h5>
The amount of WAL (in bytes) being retained for this slot



<h3>ccp_wal_activity</h3>
<h4>SQL Query:</h4>
SELECT (SELECT setting::int8 FROM pg_settings WHERE name = &#39;wal_segment_size&#39;) * (SELECT setting::int8 FROM pg_settings WHERE name = &#39;wal_block_size&#39;) * (SELECT count(*) FROM monitor.pg_ls_waldir()) AS total_size_bytes;

<h4>Metrics:</h4>


<h5>total_size_bytes</h5>
Current size in bytes of the WAL directory




<h2>queries_pg96</h2>


<h3>ccp_connection_stats</h3>
<h4>SQL Query:</h4>
select ((total - idle) - idle_in_txn) as active , total , idle , idle_in_txn , (select coalesce(extract(epoch from (max(now() - state_change))),0) from monitor.pg_stat_activity() where state = &#39;idle in transaction&#39;) as max_idle_in_txn_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from monitor.pg_stat_activity() where state &lt;&gt; &#39;idle&#39;) as max_query_time , (select coalesce(extract(epoch from (max(now() - query_start))),0) from pg_catalog.pg_stat_activity where wait_event_type = &#39;Lock&#39; ) as max_blocked_query_time , max_connections from ( select count(*) as total , coalesce(sum(case when state = &#39;idle&#39; then 1 else 0 end),0) as idle , coalesce(sum(case when state = &#39;idle in transaction&#39; then 1 else 0 end),0) as idle_in_txn from monitor.pg_stat_activity()) x join (select setting::float AS max_connections FROM pg_settings WHERE name = &#39;max_connections&#39;) xx ON (true);

<h4>Metrics:</h4>


<h5>active</h5>
Total non-idle connections



<h5>total</h5>
Total idle and non-idle connections



<h5>idle</h5>
Total idle connections



<h5>idle_in_txn</h5>
Total idle in transaction connections



<h5>max_idle_in_txn_time</h5>
Length of time in seconds of the longest idle in transaction session



<h5>max_query_time</h5>
Length of time in seconds of the longest running query



<h5>max_blocked_query_time</h5>
Length of time in seconds of the longest running query that has been blocked by a heavyweight lock



<h5>max_connections</h5>
Value of max_connections for the monitored database



<h3>ccp_replication_lag</h3>
<h4>SQL Query:</h4>
SELECT CASE WHEN pg_last_xlog_receive_location() = pg_last_xlog_replay_location() THEN 0 ELSE EXTRACT (EPOCH FROM now() - pg_last_xact_replay_timestamp())::INTEGER END AS replay_time

<h4>Metrics:</h4>


<h5>replay_time</h5>
Length of time since the last transaction was replayed on replica. Will always increase if no writes on primary.



<h3>ccp_replication_lag_size</h3>
<h4>SQL Query:</h4>
SELECT replica_addr::text as replica , replica_hostname::text , replica_port::text , byte_lag::bigint as bytes FROM monitor.streaming_replica_check();

<h4>Metrics:</h4>


<h5>replica</h5>
Replica IP address



<h5>replica_hostname</h5>
Hostname of replica system (if available)



<h5>replica_port</h5>
Replica port



<h5>bytes</h5>
Replication lag in bytes between primary and replica



<h3>ccp_replication_slots</h3>
<h4>SQL Query:</h4>
SELECT slot_name, active::int, pg_xlog_location_diff(pg_current_xlog_insert_location(), restart_lsn) AS retained_bytes FROM pg_catalog.pg_replication_slots

<h4>Metrics:</h4>


<h5>slot_name</h5>
Name of replication slot



<h5>active</h5>
Active state of slot. 1 = true. 0 = false.



<h5>retained_bytes</h5>
The amount of WAL (in bytes) being retained for this slot



<h3>ccp_wal_activity</h3>
<h4>SQL Query:</h4>
SELECT (SELECT setting::int8 FROM pg_settings WHERE name = &#39;wal_segment_size&#39;) * (SELECT setting::int8 FROM pg_settings WHERE name = &#39;wal_block_size&#39;) * (SELECT count(*) FROM monitor.pg_ls_waldir()) AS total_size_bytes;

<h4>Metrics:</h4>


<h5>total_size_bytes</h5>
Current size in bytes of the WAL directory






<h1 id="pgnodemx-https-github-com-crunchydata-pgnodemx"><a href="https://github.com/CrunchyData/pgnodemx">pgnodemx</a></h1>

<p>In addition to the metrics above, the <a href="https://github.com/CrunchyData/pgnodemx">pgnodemx</a> PostgreSQL extension provides SQL functions to allow the capture of node OS metrics via SQL queries. For more information, please see the <a href="https://github.com/CrunchyData/pgnodemx">pgnodemx</a> project page:</p>

<p><a href="https://github.com/CrunchyData/pgnodemx">https://github.com/CrunchyData/pgnodemx</a></p>


<h2>queries_nodemx</h2>


<h3>ccp_nodemx_cpu</h3>
<h4>SQL Query:</h4>
SELECT monitor.kdapi_scalar_bigint(&#39;cpu_request&#39;) as request, monitor.kdapi_scalar_bigint(&#39;cpu_limit&#39;) as limit

<h4>Metrics:</h4>


<h5>request</h5>
CPU request value in milli cores



<h5>limit</h5>
CPU limit value in milli cores



<h3>ccp_nodemx_cpuacct</h3>
<h4>SQL Query:</h4>
SELECT monitor.cgroup_scalar_bigint(&#39;cpuacct.usage&#39;) as usage

<h4>Metrics:</h4>


<h5>usage</h5>
CPU usage in nanoseconds



<h3>ccp_nodemx_cpucfs</h3>
<h4>SQL Query:</h4>
SELECT  monitor.cgroup_scalar_bigint(&#39;cpu.cfs_period_us&#39;) as period_us, monitor.cgroup_scalar_bigint(&#39;cpu.cfs_quota_us&#39;) as quota_us

<h4>Metrics:</h4>


<h5>period_us</h5>
the total available run-time within a period (in microseconds)



<h5>quota_us</h5>
the length of a period (in microseconds)



<h3>ccp_nodemx_cpustat</h3>
<h4>SQL Query:</h4>
select (SELECT val as nr_periods FROM monitor.cgroup_setof_kv(&#39;cpu.stat&#39;) where key=&#39;nr_periods&#39;), (SELECT val as nr_throttled FROM monitor.cgroup_setof_kv(&#39;cpu.stat&#39;) where key=&#39;nr_throttled&#39;), (SELECT val as throttled_time FROM monitor.cgroup_setof_kv(&#39;cpu.stat&#39;) where key=&#39;throttled_time&#39;)

<h4>Metrics:</h4>


<h5>nr_threads</h5>
number of periods that any thread was runnable



<h5>nr_throttled</h5>
number of runnable periods in which the application used its entire quota and was throttled



<h5>throttled_time</h5>
sum total amount of time individual threads within the monitor.cgroup were throttled



<h3>ccp_nodemx_data_disk</h3>
<h4>SQL Query:</h4>
SELECT mount_point,fs_type,total_bytes,available_bytes,total_file_nodes,free_file_nodes FROM monitor.proc_mountinfo() m JOIN monitor.fsinfo(m.mount_point) f USING (major_number, minor_number) WHERE m.mount_point IN (&#39;/pgdata&#39;, &#39;/pgwal&#39;) OR m.mount_point like &#39;/tablespaces/%&#39;

<h4>Metrics:</h4>


<h5>mount_point</h5>
mount point



<h5>fs_type</h5>
File system type



<h5>total_bytes</h5>
Size in bytes



<h5>available_bytes</h5>
Available size in bytes



<h5>total_file_nodes</h5>
Total file nodes



<h5>free_file_nodes</h5>
Available file nodes



<h3>ccp_nodemx_disk_activity</h3>
<h4>SQL Query:</h4>
SELECT mount_point,sectors_read,sectors_written FROM monitor.proc_mountinfo() m JOIN monitor.proc_diskstats() d USING (major_number, minor_number) WHERE m.mount_point IN (&#39;/pgdata&#39;, &#39;/pgwal&#39;) OR m.mount_point like &#39;/tablespaces/%&#39;

<h4>Metrics:</h4>


<h5>mount_point</h5>
mount point



<h5>sectors_read</h5>
Total sectors read



<h5>sectors_written</h5>
Total sectors writen



<h3>ccp_nodemx_mem</h3>
<h4>SQL Query:</h4>
SELECT monitor.kdapi_scalar_bigint(&#39;mem_request&#39;) as request, monitor.kdapi_scalar_bigint(&#39;mem_limit&#39;) as limit, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;cache&#39;) as cache, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;rss&#39;) as rss, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;shmem&#39;) as shmem, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;mapped_file&#39;) as mapped_file, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;dirty&#39;) as dirty, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;active_anon&#39;) as active_anon, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;inactive_anon&#39;) as inactive_anon, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;active_file&#39;) as active_file, (select val from monitor.cgroup_setof_kv(&#39;memory.stat&#39;) where key=&#39;inactive_file&#39;) as inactive_file

<h4>Metrics:</h4>


<h5>request</h5>
Memory request value in bytes



<h5>limit</h5>
Memory limit value in bytes



<h5>cache</h5>
Total bytes of page cache memory



<h5>rss</h5>
Total bytes of anonymous and swap cache memory



<h5>shmem</h5>
Total bytes of shared memory



<h5>mapped_file</h5>
Total bytes of mapped file (includes tmpfs/shmem)



<h5>mapped_file</h5>
Total bytes of mapped file (includes tmpfs/shmem)



<h5>dirty</h5>
Total bytes that are waiting to get written back to the disk



<h5>active_anon</h5>
Total bytes of anonymous and swap cache memory on active LRU list



<h5>inactive_anon</h5>
Total bytes of anonymous and swap cache memory on inactive LRU list



<h5>active_file</h5>
Total bytes of file-backed memory on active LRU list



<h5>inactive_file</h5>
Total bytes of file-backed memory on inactive LRU list



<h3>ccp_nodemx_network</h3>
<h4>SQL Query:</h4>
SELECT interface,tx_bytes,tx_packets, rx_bytes,rx_packets from monitor.proc_network_stats()

<h4>Metrics:</h4>


<h5>interface</h5>




<h5>tx_bytes</h5>
Number of bytes transmitted



<h5>tx_packets</h5>
Number of packets transmitted



<h5>rx_bytes</h5>
Number of bytes received



<h5>rx_packets</h5>
Number of packets received



<h3>ccp_nodemx_process</h3>
<h4>SQL Query:</h4>
SELECT monitor.cgroup_process_count() as count

<h4>Metrics:</h4>


<h5>count</h5>
Total number of database processes








    
      <div class="chevrons">
  <div id="navigation">
<a class="nav nav-prev" href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/" title="Advanced Topics"> <i class="fa fa-chevron-left"></i><label>Advanced Topics</label></a>
    <a class="nav nav-next" href="https://crunchydata.github.io/postgres-operator/4.5.7/advanced/custom-configuration/" title="Custom Configuration" style="margin-right: 0px;"><label>Custom Configuration</label><i class="fa fa-chevron-right"></i></a></div>
</div>

</section>
</article>

<footer>

<div class="footline">
  

  



</div>


<div>
</div>

<div class="text-center">
  <p><small>&copy; 2017 - 2022 Crunchy Data Solutions, Inc.</small></p>
</div>


</footer>

<link href="https://crunchydata.github.io/postgres-operator/4.5.7/css/featherlight.min.css" rel="stylesheet">
<script src="https://crunchydata.github.io/postgres-operator/4.5.7/js/featherlight.min.js"></script>

<script src="https://crunchydata.github.io/postgres-operator/4.5.7/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
