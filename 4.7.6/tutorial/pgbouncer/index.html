<!DOCTYPE html>
<html>
  <head>
    
    <title>PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.55.6" />
<title>pgBouncer :: PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
<link rel="shortcut icon" href="https://crunchydata.github.io/postgres-operator/4.7.6/favicon.png" type="image/x-icon" />
<link href="https://crunchydata.github.io/postgres-operator/4.7.6/css/nucleus.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.7.6/theme-flex/style.css" rel="stylesheet">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://crunchydata.github.io/postgres-operator/4.7.6/css/Fort-Fonts.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.7.6/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="https://crunchydata.github.io/postgres-operator/4.7.6/js/jquery-2.x.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.7.6/js/main.js"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.7.6/js/toc.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.7.6";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/tutorial/pgbouncer/">
    
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  
<a class="navbar-brand" href="https://www.crunchydata.com/"><img alt="Crunchy Data" src="https://crunchydata.github.io/postgres-operator/4.7.6/images/logo.svg"></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav mr-auto"></ul>
  <span class="navbar-text">
      <nav class="shortcuts">
              <li class="" role="">
                  <a href="https://crunchydata.github.io/postgres-operator/4.7.6/" target="_blank" rel="noopener">
                    <label>Overview</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator" target="_blank" rel="noopener">
                    <i class='fab fa-github'></i> <label>Source</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://kubernetes.io/docs/" target="_blank" rel="noopener">
                    <i class='fas fa-bookmark'></i> <label>Kubernetes</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator/blob/master/LICENSE.md" target="_blank" rel="noopener">
                    <i class='fas fa-file-contract'></i> <label>License</label>
                  </a>
              </li>
      </nav>
  </span>
</nav>

<article>
  <aside>

    <ul class="menu">
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.6/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.6/js/auto-complete.js"></script>
        <link href="https://crunchydata.github.io/postgres-operator/4.7.6/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.7.6";
          
        </script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.6/js/search.js"></script>
      </div>

      <hr>
      <a class="baselink" href="https://crunchydata.github.io/postgres-operator/4.7.6/">PGO: PostgreSQL Operator from Crunchy Data Documentation</a>
      <hr>
        <b>Available Formats</b>
        <nav class="downloads">
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pdf/postgres_operator.pdf" target="_blank" rel="noopener">
                      <i class='fas fa-file-pdf'></i> <label>PDF</label>
                    </a>
                </li>
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.7.6/epub/postgres_operator.epub" target="_blank" rel="noopener">
                      <i class='fas fa-book'></i> <label>EPUB</label>
                    </a>
                </li>
        </nav>
        <hr>

      <b>Navigation</b>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/quickstart/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/quickstart/">Quickstart</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/" class="dd-item parent haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/">Tutorial</a>
            <i class="fas fa-angle-down fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/getting-started/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/getting-started/">
            Getting Started
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/create-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/create-cluster/">
            Create a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/connect-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/connect-cluster/">
            Connect to a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/customize-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/customize-cluster/">
            Customize a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/update-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/update-cluster/">
            Update a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/delete-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/delete-cluster/">
            Delete a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/tls/">
            Setup TLS
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/pgbouncer/" class="dd-item active">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/pgbouncer/">
            pgBouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/high-availability/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/high-availability/">
            High Availability
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/pgdump/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/pgdump/">
            Logical Backups (pg_dump)
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/">Architecture</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/overview/">
            Overview
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/provisioning/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/provisioning/">
            Provisioning
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/high-availability/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/high-availability/">High-Availability</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/high-availability/multi-cluster-kubernetes/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/high-availability/multi-cluster-kubernetes/">
            Kubernetes Multi-Cluster Deployments
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/monitoring/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/monitoring/">
            Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/namespace/">
            Namespace Management
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/eventing/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/eventing/">
            Lifecycle Events
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/postgres-operator-containers-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/postgres-operator-containers-overview/">
            PostgreSQL Containers
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/storage-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/storage-overview/">
            Storage
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/users-role-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/users-role-overview/">
            User &amp; Roles
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/tablespaces/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/tablespaces/">
            Tablespaces
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/pgadmin4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/architecture/pgadmin4/">
            pgAdmin 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/">Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/compatibility/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/compatibility/">
            Compatibility Requirements
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/configuration/">
            Configuration Resources
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/pgo-yaml-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/pgo-yaml-configuration/">
            PGO YAML
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/configuration/tls/">
            TLS
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/">Installation</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/postgres-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/postgres-operator/">
            Install PGO the Postgres Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/pgo-client/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/pgo-client/">
            Install &#34;pgo&#34; Client
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/configuration/">
            Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/installing-ansible/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/installing-ansible/">
            Installing Ansible
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/installing-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/installing-operator/">
            Installing PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/updating-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/updating-operator/">
            Updating PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/uninstalling-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/ansible/uninstalling-operator/">
            Uninstalling PostgreSQL Operator
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/bash/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/bash/">
            Bash Scripts
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/helm/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/helm/">
            Helm Chart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/google-cloud-marketplace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/google-cloud-marketplace/">
            Google Cloud Marketplace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/operator-hub/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/other/operator-hub/">
            OperatorHub.io
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/">PostgreSQL Operator Monitoring</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/metrics-prerequisites/">
            Monitoring Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/postgres-operator-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/postgres-operator-metrics/">
            Install PostgreSQL Operator Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/metrics-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/metrics-configuration/">
            Monitoring Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/metrics-prerequisites/">
            Metrics Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/installing-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/installing-metrics/">
            Installing the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/updating-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/updating-metrics/">
            Updating the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/uninstalling-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/ansible/uninstalling-metrics/">
            Uninstalling the Monitoring Infrastructure
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/helm-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/installation/metrics/other/helm-metrics/">
            Monitoring Helm Chart
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/">Using the pgo Client</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/common-tasks/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/common-tasks/">
            Common pgo Client Tasks
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/">pgo Client Reference</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_apply/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_apply/">
            pgo apply
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_backup/">
            pgo backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_cat/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_cat/">
            pgo cat
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create/">
            pgo create
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_cluster/">
            pgo create cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_namespace/">
            pgo create namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgadmin/">
            pgo create pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgbouncer/">
            pgo create pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgorole/">
            pgo create pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgouser/">
            pgo create pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_policy/">
            pgo create policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_schedule/">
            pgo create schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_user/">
            pgo create user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete/">
            pgo delete
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_backup/">
            pgo delete backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_cluster/">
            pgo delete cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_label/">
            pgo delete label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_namespace/">
            pgo delete namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgadmin/">
            pgo delete pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgbouncer/">
            pgo delete pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgorole/">
            pgo delete pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_pgouser/">
            pgo delete pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_policy/">
            pgo delete policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_schedule/">
            pgo delete schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_delete_user/">
            pgo delete user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_df/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_df/">
            pgo df
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_failover/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_failover/">
            pgo failover
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_label/">
            pgo label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_reload/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_reload/">
            pgo reload
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_restart/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_restart/">
            pgo restart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_restore/">
            pgo restore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_scale/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_scale/">
            pgo scale
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_scaledown/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_scaledown/">
            pgo scaledown
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show/">
            pgo show
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_backup/">
            pgo show backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_cluster/">
            pgo show cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_config/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_config/">
            pgo show config
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_namespace/">
            pgo show namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgadmin/">
            pgo show pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgbouncer/">
            pgo show pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgorole/">
            pgo show pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgouser/">
            pgo show pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_policy/">
            pgo show policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pvc/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pvc/">
            pgo show pvc
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_schedule/">
            pgo show schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_user/">
            pgo show user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_workflow/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_workflow/">
            pgo show workflow
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_status/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_status/">
            pgo status
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_test/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_test/">
            pgo test
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update/">
            pgo update
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_cluster/">
            pgo update cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_namespace/">
            pgo update namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgbouncer/">
            pgo update pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgorole/">
            pgo update pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgouser/">
            pgo update pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_user/">
            pgo update user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_upgrade/">
            pgo upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_version/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_version/">
            pgo version
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_watch/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_watch/">
            pgo watch
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/custom-resources/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/custom-resources/">Using Custom Resources</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/security/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/security/">RBAC Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/security/configure-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/security/configure-postgres-operator-rbac/">
            Configuration of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/security/install-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/security/install-postgres-operator-rbac/">
            Installation of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/security/api-encryption-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/security/api-encryption-configuration/">
            PostgreSQL Operator API Encryption Configuration
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/">Advanced Topics</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/crunchy-postgres-exporter/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/crunchy-postgres-exporter/">
            Crunchy Postgres Exporter
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/custom-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/custom-configuration/">
            Custom Configuration
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/multi-zone-design-considerations/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/multi-zone-design-considerations/">
            Multi-Zone Cloud Considerations
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/direct-api-calls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/advanced/direct-api-calls/">
            Rest API
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/">Upgrade</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/automatedupgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/automatedupgrade/">
            Automated PostgreSQL Operator Upgrade - Operator 4.1&#43;
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/">Manual Upgrades</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/upgrade35/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/upgrade35/">
            Manual Upgrade - Operator 3.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/upgrade4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/manual/upgrade4/">
            Manual Upgrade - Operator 4
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/upgrade/metrics/">
            Monitoring Upgrade Guidance
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/">Contributing</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/developer-setup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/developer-setup/">
            Development Environment
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/documentation-updates/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/documentation-updates/">
            Updating Documentation
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/issues/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/issues/">
            Submitting Issues
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/pull-requests/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/pull-requests/">
            Submitting Pull Requests
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/">Release Notes</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.6/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.6/">
            4.7.6
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.5/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.5/">
            4.7.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.4/">
            4.7.4
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.3/">
            4.7.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.2/">
            4.7.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.1/">
            4.7.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.7.0/">
            4.7.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.2/">
            4.6.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.1/">
            4.6.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.6.0/">
            4.6.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.5.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.5.1/">
            4.5.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.5.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.5.0/">
            4.5.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.4.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.4.1/">
            4.4.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.4.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.4.0/">
            4.4.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.3/">
            4.3.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.2/">
            4.3.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.1/">
            4.3.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.3.0/">
            4.3.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.2/">
            4.2.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.1/">
            4.2.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.2.0/">
            4.2.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.2/">
            4.1.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.1/">
            4.1.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.6/releases/4.1.0/">
            4.1.0
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.6/support/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.6/support/">Support</a>

      </div>
    </li>




      <hr><nav id="TableOfContents"></nav>



      <section>
      </section>
    </ul>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/quickstart/" >
   Quickstart</option>
    <option value="/tutorial/" >
   Tutorial</option> 
      <option value="/tutorial/getting-started/" >- Getting Started</option>
      <option value="/tutorial/create-cluster/" >- Create a Postgres Cluster</option>
      <option value="/tutorial/connect-cluster/" >- Connect to a Postgres Cluster</option>
      <option value="/tutorial/customize-cluster/" >- Customize a Postgres Cluster</option>
      <option value="/tutorial/update-cluster/" >- Update a Postgres Cluster</option>
      <option value="/tutorial/delete-cluster/" >- Delete a Postgres Cluster</option>
      <option value="/tutorial/tls/" >- Setup TLS</option>
      <option value="/tutorial/pgbouncer/"  selected>- pgBouncer</option>
      <option value="/tutorial/high-availability/" >- High Availability</option>
      <option value="/tutorial/disaster-recovery/" >- Disaster Recovery</option>
      <option value="/tutorial/pgdump/" >- Logical Backups (pg_dump)</option>
  
    <option value="/architecture/" >
   Architecture</option>
    <option value="/configuration/" >
   Configuration</option>
    <option value="/installation/" >
   Installation</option>
    <option value="/pgo-client/" >
   Using the pgo Client</option>
    <option value="/custom-resources/" >
   Using Custom Resources</option>
    <option value="/security/" >
   RBAC Configuration</option>
    <option value="/advanced/" >
   Advanced Topics</option>
    <option value="/upgrade/" >
   Upgrade</option>
    <option value="/contributing/" >
   Contributing</option>
    <option value="/releases/" >
   Release Notes</option>
    <option value="/support/" >
   Support</option>



        </select>
      </center>
    </div>

    
      <div id="top-bar">
        
          
          
          
        <div id="top-github-link">
          <a class="github-link" href="https://crunchydata.github.io/postgres-operator/4.7.6/contributing/" target="blank">
            <i class="fa fa-info-circle"></i>
            
          </a>
          <a class="github-link" href="https://github.com/CrunchyData/postgres-operator/edit/master/docs/content/tutorial/pgbouncer.md" target="blank">
            <i class="fa fa-code-fork"></i>
            
          </a>
        </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
            <span class="links">
            







 <a href='https://crunchydata.github.io/postgres-operator/4.7.6/'>PGO: The Postgres Operator from Crunchy Data</a> > <a href='https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/'>Tutorial</a> > pgBouncer

 

 


            </span>
        </div>

      </div>
    

    
    <div id="body-inner">

    <h1>pgBouncer</h1>

    

    
    

<p><a href="https://www.pgbouncer.org/">pgBouncer</a> is a lightweight connection poooler and state manager that provides an efficient gateway to metering connections to PostgreSQL. The PostgreSQL Operator provides an integration with pgBouncer that allows you to deploy it alongside your PostgreSQL cluster.</p>

<p>This tutorial covers how you can set up pgBouncer, functionality that the PostgreSQL Operator provides to manage it, and more.</p>

<h2 id="setup-pgbouncer">Setup pgBouncer</h2>

<p>pgBouncer lives as an independent Deployment next to your PostgreSQL cluster but, thanks to the PostgreSQL Operator, is synchronized with various aspects of your environment.</p>

<p>There are two ways you can set up pgBouncer for your cluster. You can add pgBouncer when you create your cluster, e.g.:</p>

<pre><code>pgo create cluster hippo --pgbouncer
</code></pre>

<p>or after your PostgreSQL cluster has been provisioned with the <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgbouncer/"><code>pgo create pgbouncer</code></a>:</p>

<pre><code>pgo create pgbouncer hippo
</code></pre>

<p>There are several managed objects that are created alongside the pgBouncer Deployment, these include:</p>

<ul>
<li>The pgBouncer Deployment itself

<ul>
<li>One or more pgBouncer Pods</li>
</ul></li>
<li>A pgBouncer ConfigMap, e.g. <code>hippo-pgbouncer-cm</code> which has two entries:

<ul>
<li><code>pgbouncer.ini</code>, which is the configuration for the pgBouncer instances</li>
<li><code>pg_hba.conf</code>, which controls how clients can connect to <code>pgBouncer</code></li>
</ul></li>
<li>A pgBouncer Secret e.g. <code>hippo-pgbouncer-secret</code>, that contains the following values:

<ul>
<li><code>password</code>: the password for the <code>pgbouncer</code> user. The <code>pgbouncer</code> user is described in more detail further down.</li>
<li><code>users.txt</code>: the description for how the <code>pgbouncer</code> user and only the <code>pgbouncer</code> user can explicitly connect to a pgBouncer instance.</li>
</ul></li>
</ul>

<h3 id="the-pgbouncer-user">The <code>pgbouncer</code> user</h3>

<p>The <code>pgbouncer</code> user is a special type of PostgreSQL user that is solely for the administration of pgBouncer. It performs several roles, including:</p>

<ul>
<li>Securely load PostgreSQL user credentials into pgBouncer so pgBouncer can perform authentication and connection forwarding</li>
<li>The ability to log into <code>pgBouncer</code> itself for administration, introspection, and looking at statistics</li>
</ul>

<p>The pgBouncer user <strong>is not meant to be used to log into PostgreSQL directly</strong>: the account is given permissions for ad hoc tasks. More information on how to connect to pgBouncer is provided in the next section.</p>

<h2 id="connect-to-a-postgres-cluster-through-pgbouncer">Connect to a Postgres Cluster Through pgBouncer</h2>

<p>Connecting to a PostgreSQL cluster through pgBouncer is similar to how you <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/connect-cluster/">connect to PostgreSQL directly</a>, but you are connecting through a different service. First, note the types of users that can connect to PostgreSQL through <code>pgBouncer</code>:</p>

<ul>
<li>Any regular user that&rsquo;s created through <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_user/"><code>pgo create user</code></a> or a user that is not a system account.</li>
<li>The <code>postgres</code> superuser</li>
</ul>

<p>The following example will follow similar steps for how you would connect to a <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/connect-cluster/#connection-via-psql">Postgres Cluster via <code>psql</code></a>, but applies to all other connection methods.</p>

<p>First, get a list of Services that are available in your namespace:</p>

<pre><code>kubectl -n pgo get svc
</code></pre>

<p>You should see a list similar to:</p>

<pre><code>NAME                         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE
hippo                        ClusterIP   10.96.104.207   &lt;none&gt;        2022/TCP,5432/TCP            12m
hippo-backrest-shared-repo   ClusterIP   10.96.134.253   &lt;none&gt;        2022/TCP                     12m
hippo-pgbouncer              ClusterIP   10.96.85.35     &lt;none&gt;        5432/TCP                     11m
</code></pre>

<p>We are going to want to create a port forward to the <code>hippo-pgbouncer</code> service. In a separate terminal window, run the following command:</p>

<pre><code>kubectl -n pgo port-forward svc/hippo-pgbouncer 5432:5432
</code></pre>

<p>Recall in the <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/connect-cluster/">earlier part of the tutorial</a> that we created a user called <code>testuser</code> with a password of <code>securerandomlygeneratedpassword</code>. We can the connect to PostgreSQL via pgBouncer by executing the following command:</p>

<pre><code>PGPASSWORD=securerandomlygeneratedpassword psql -h localhost -p 5432 -U testuser hippo
</code></pre>

<p>You should then be greeted with the PostgreSQL prompt:</p>

<pre><code>psql (13.7)
Type &quot;help&quot; for help.

hippo=&gt;
</code></pre>

<h3 id="validation-did-this-actually-work">Validation: Did this actually work?</h3>

<p>This looks just like how we connected to PostgreSQL before, so how do we know that we are connected to PostgreSQL via pgBouncer? Let&rsquo;s log into pgBoucner as the <code>pgbouncer</code> user and demonstrate this.</p>

<p>In another terminal window, get the credential for the pgBouncer user. This can be done with the <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_show_pgbouncer/"><code>pgo show pgbouncer</code></a> command:</p>

<pre><code>pgo show pgbouncer hippo
</code></pre>

<p>which yields something that looks like:</p>

<pre><code>CLUSTER SERVICE         USERNAME  PASSWORD                 CLUSTER IP  EXTERNAL IP
------- --------------- --------- ------------------------ ----------- -----------
hippo   hippo-pgbouncer pgbouncer randompassword           10.96.85.35             
</code></pre>

<p>Copy the actual password and log into pgbouncer with the following command:</p>

<pre><code>PGPASSWORD=randompassword psql -h localhost -p 5432 -U pgbouncer pgbouncer
</code></pre>

<p>You should see something similar to this:</p>

<pre><code>psql (13.7, server 1.14.0/bouncer)
Type &quot;help&quot; for help.

pgbouncer=#
</code></pre>

<p>In the <code>pgboucner</code> terminal, run the following command. This will show you the overall connection statistics for pgBouncer:</p>

<pre><code>SHOW stats;
</code></pre>

<p>Success, you have connected to pgBouncer!</p>

<h2 id="setup-pgbouncer-with-tls">Setup pgBouncer with TLS</h2>

<p>Similarly to how you can <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/tls/">setup TLS for PostgreSQL</a>, you can set up TLS connections for pgBouncer. To do this, the PostgreSQL Operator takes the following steps:</p>

<ul>
<li>Ensuring TLS communication between a client (e.g. <code>psql</code>, your application, etc.) and pgBouncer</li>
<li>Ensuring TLS communication between pgBouncer and PostgreSQL</li>
</ul>

<p>When TLS is enabled, the PostgreSQL Operator configures pgBouncer to require each client to use TLS to communicate with pgBouncer. Additionally, the PostgreSQL Operator requires that pgBouncer and the PostgreSQL cluster share the same certificate authority (CA) bundle, which allows for pgBouncer to communicate with the PostgreSQL cluster using PostgreSQL&rsquo;s <a href="https://www.postgresql.org/docs/current/libpq-ssl.html#LIBPQ-SSL-PROTECTION"><code>verify-ca</code> SSL mode</a>.</p>

<p>The below guide will show you how set up TLS for pgBouncer.</p>

<h3 id="prerequisites">Prerequisites</h3>

<p>In order to set up TLS connections for pgBouncer, you must first <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/tls/">enable TLS on your PostgreSQL cluster</a>.</p>

<p>For the purposes of this exercise, we will re-use the Secret TLS keypair <code>hippo-tls-keypair</code> that was created for the PostgreSQL server. This is only being done for convenience: you can substitute <code>hippo-tls-keypair</code> with a different TLS key pair as long as it can be verified by the certificate authority (CA) that you selected for your PostgreSQL cluster. Recall that the certificate authority (CA) bundle is stored in a Secret named <code>postgresql-ca</code>.</p>

<h3 id="create-pgbouncer-with-tls">Create pgBouncer with TLS</h3>

<p>Knowing that our TLS key pair is stored in a Secret called <code>hippo-tls-keypair</code>, you can setup pgBouncer with TLS using the following command:</p>

<pre><code>pgo create pgbouncer hippo --tls-secret=hippo-tls-keypair
</code></pre>

<p>And that&rsquo;s it! So long as the prerequisites are satisfied, this will create a pgBouncer instance that is TLS enabled.</p>

<p>Don&rsquo;t believe it? Try logging in. First, ensure you have a port-forward from pgBouncer to your host machine:</p>

<pre><code>kubectl -n pgo port-forward svc/hippo-pgbouncer 5432:5432
</code></pre>

<p>Then, connect to the pgBouncer instances:</p>

<pre><code>PGPASSWORD=securerandomlygeneratedpassword psql -h localhost -p 5432 -U testuser hippo
</code></pre>

<p>You should see something similar to this:</p>

<pre><code>psql (13.7)
SSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)
Type &quot;help&quot; for help.

hippo=&gt;
</code></pre>

<p>Still don&rsquo;t believe it? You can verify your connection using the PostgreSQL <code>get_backend_pid()</code> function and the <a href="https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-PG-STAT-SSL-VIEW"><code>pg_stat_ssl</code></a> monitoring view:</p>

<pre><code>hippo=&gt; SELECT * FROM pg_stat_ssl WHERE pid = pg_backend_pid();
  pid  | ssl | version |         cipher         | bits | compression | client_dn | client_serial | issuer_dn
-------+-----+---------+------------------------+------+-------------+-----------+---------------+-----------
 15653 | t   | TLSv1.3 | TLS_AES_256_GCM_SHA384 |  256 | f           |           |               |
(1 row)
</code></pre>

<h3 id="create-a-postgresql-cluster-with-pgbouncer-and-tls">Create a PostgreSQL cluster with pgBouncer and TLS</h3>

<p>Want to create a PostgreSQL cluster with pgBouncer with TLS enabled? You can with the <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_cluster/"><code>pgo create cluster</code></a> command and using the <code>--pgbouncer-tls-secret</code> flag. Using the same Secrets that were created in the <a href="{{ relref &quot;tutorial/tls.md&quot; }}">creating a PostgreSQL cluster with TLS</a> tutorial, you can create a PostgreSQL cluster with pgBouncer and TLS with the following command:</p>

<pre><code>pgo create cluster hippo \
  --server-ca-secret=postgresql-ca \
  --server-tls-secret=hippo-tls-keypair \
  --pgbouncer \
  --pgbouncer-tls-secret=hippo-tls-keypair
</code></pre>

<h2 id="customize-cpu-memory-for-pgbouncer">Customize CPU / Memory for pgBouncer</h2>

<h3 id="provisioning">Provisioning</h3>

<p>The PostgreSQL Operator provides several flags for <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_cluster/"><code>pgo create cluster</code></a> to help manage resources for pgBouncer:</p>

<ul>
<li><code>--pgbouncer-cpu</code>: Specify the CPU Request for pgBouncer</li>
<li><code>--pgbouncer-cpu-limit</code>: Specify the CPU Limit for pgBouncer</li>
<li><code>--pgbouncer-memory</code>: Specify the Memory Request for pgBouncer</li>
<li><code>--pgbouncer-memory-limit</code>: Specify the Memory Limit for pgBouncer</li>
</ul>

<p>Additional, the PostgreSQL Operator provides several flags for <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_create_pgbouncer/"><code>pgo create pgbouncer</code></a> to help manage resources for pgBouncer:</p>

<ul>
<li><code>--cpu</code>: Specify the CPU Request for pgBouncer</li>
<li><code>--cpu-limit</code>: Specify the CPU Limit for pgBouncer</li>
<li><code>--memory</code>: Specify the Memory Request for pgBouncer</li>
<li><code>--memory-limit</code>: Specify the Memory Limit for pgBouncer</li>
</ul>

<p>To create a pgBouncer Deployment that makes a CPU Request of 1.0 with a CPU Limit of 2.0 and a Memory Request of 64Mi with a Memory Limit of 256Mi:</p>

<pre><code>pgo create pgbouncer hippo \
  --cpu=1.0 --cpu-limit=2.0 \
  --memory=64Mi --memory-limit=256Mi
</code></pre>

<h3 id="updating">Updating</h3>

<p>You can also add more memory and CPU resources to pgBouncer with the <a href="https://crunchydata.github.io/postgres-operator/4.7.6/pgo-client/reference/pgo_update_pgbouncer/"><code>pgo update pgbouncer</code></a> command, including:</p>

<ul>
<li><code>--cpu</code>: Specify the CPU Request for pgBouncer</li>
<li><code>--cpu-limit</code>: Specify the CPU Limit for pgBouncer</li>
<li><code>--memory</code>: Specify the Memory Request for pgBouncer</li>
<li><code>--memory-limit</code>: Specify the Memory Limit for pgBouncer</li>
</ul>

<p>For example, to update a pgBouncer to a CPU Request of 2.0 with a CPU Limit of 3.0 and a Memory Request of 128Mi with a Memory Limit of 512Mi:</p>

<pre><code>pgo update pgbouncer hippo \
  --cpu=2.0 --cpu-limit=3.0 \
  --memory=128Mi --memory-limit=512Mi
</code></pre>

<h2 id="scaling-pgbouncer">Scaling pgBouncer</h2>

<p>You can add more pgBouncer instances when provisioning pgBouncer and to an existing pgBouncer Deployment.</p>

<h3 id="provisioning-1">Provisioning</h3>

<p>To add pgBouncer instances when creating a PostgreSQL cluster, use the <code>--pgbouncer-replicas</code> flag on <code>pgo create cluster</code>. For example, to add 2 replicas:</p>

<pre><code>pgo create cluster hippo --pgbouncer --pgbouncer-replicas=2
</code></pre>

<p>If adding a pgBouncer to an already provisioned PostgreSQL cluster, use the <code>--replicas</code> flag on <code>pgo create pgbouncer</code>. For example, to add a pgBouncer instance with 2 replicas:</p>

<pre><code>pgo create pgbouncer hippo --replicas=2
</code></pre>

<h3 id="updating-1">Updating</h3>

<p>To update pgBouncer instances to scale the replicas, use the <code>pgo update pgbouncer</code> command with the <code>--replicas</code> flag. This flag can scale pgBouncer up and down. For example, to run 3 pgBouncer replicas:</p>

<pre><code>pgo update pgbouncer hippo --replicas=3
</code></pre>

<h2 id="rotate-pgbouncer-password">Rotate pgBouncer Password</h2>

<p>If you wish to rotate the pgBouncer password, you can use the <code>--rotate-password</code> flag on <code>pgo update pgbouncer</code>:</p>

<pre><code>pgo update pgbouncer hippo --rotate-password
</code></pre>

<p>This will change the pgBouncer password and synchronize the change across all pgBouncer instances.</p>

<h2 id="next-steps">Next Steps</h2>

<p>Now that you have connection pooling set up, let&rsquo;s create a <a href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/high-availability/">high availability PostgreSQL cluster</a>!</p>



    
      <div class="chevrons">
  <div id="navigation">
<a class="nav nav-prev" href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/tls/" title="Setup TLS"> <i class="fa fa-chevron-left"></i><label>Setup TLS</label></a>
    <a class="nav nav-next" href="https://crunchydata.github.io/postgres-operator/4.7.6/tutorial/high-availability/" title="High Availability" style="margin-right: 0px;"><label>High Availability</label><i class="fa fa-chevron-right"></i></a></div>
</div>

</section>
</article>

<footer>

<div class="footline">
  

  



</div>


<div>
</div>

<div class="text-center">
  <p><small>&copy; 2017 - 2022 Crunchy Data Solutions, Inc.</small></p>
</div>


</footer>

<link href="https://crunchydata.github.io/postgres-operator/4.7.6/css/featherlight.min.css" rel="stylesheet">
<script src="https://crunchydata.github.io/postgres-operator/4.7.6/js/featherlight.min.js"></script>

<script src="https://crunchydata.github.io/postgres-operator/4.7.6/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
