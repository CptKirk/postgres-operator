<!DOCTYPE html>
<html>
  <head>
    
    <title>PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.55.6" />
<title>Custom Configuration :: PGO: PostgreSQL Operator from Crunchy Data Documentation</title>
<link rel="shortcut icon" href="https://crunchydata.github.io/postgres-operator/4.7.7/favicon.png" type="image/x-icon" />
<link href="https://crunchydata.github.io/postgres-operator/4.7.7/css/nucleus.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.7.7/theme-flex/style.css" rel="stylesheet">

<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<link href="https://crunchydata.github.io/postgres-operator/4.7.7/css/Fort-Fonts.css" rel="stylesheet">
<link href="https://crunchydata.github.io/postgres-operator/4.7.7/css/custom.css" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="https://crunchydata.github.io/postgres-operator/4.7.7/js/jquery-2.x.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.7.7/js/main.js"></script>
<script src="https://crunchydata.github.io/postgres-operator/4.7.7/js/toc.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.7.7";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/advanced/custom-configuration/">
    
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
  
<a class="navbar-brand" href="https://www.crunchydata.com/"><img alt="Crunchy Data" src="https://crunchydata.github.io/postgres-operator/4.7.7/images/logo.svg"></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav mr-auto"></ul>
  <span class="navbar-text">
      <nav class="shortcuts">
              <li class="" role="">
                  <a href="https://crunchydata.github.io/postgres-operator/4.7.7/" target="_blank" rel="noopener">
                    <label>Overview</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator" target="_blank" rel="noopener">
                    <i class='fab fa-github'></i> <label>Source</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://kubernetes.io/docs/" target="_blank" rel="noopener">
                    <i class='fas fa-bookmark'></i> <label>Kubernetes</label>
                  </a>
              </li>
              <li class="" role="">
                  <a href="https://github.com/CrunchyData/postgres-operator/blob/master/LICENSE.md" target="_blank" rel="noopener">
                    <i class='fas fa-file-contract'></i> <label>License</label>
                  </a>
              </li>
      </nav>
  </span>
</nav>

<article>
  <aside>

    <ul class="menu">
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.7/js/lunr.min.js"></script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.7/js/auto-complete.js"></script>
        <link href="https://crunchydata.github.io/postgres-operator/4.7.7/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/crunchydata.github.io\/postgres-operator\/4.7.7";
          
        </script>
        <script type="text/javascript" src="https://crunchydata.github.io/postgres-operator/4.7.7/js/search.js"></script>
      </div>

      <hr>
      <a class="baselink" href="https://crunchydata.github.io/postgres-operator/4.7.7/">PGO: PostgreSQL Operator from Crunchy Data Documentation</a>
      <hr>
        <b>Available Formats</b>
        <nav class="downloads">
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pdf/postgres_operator.pdf" target="_blank" rel="noopener">
                      <i class='fas fa-file-pdf'></i> <label>PDF</label>
                    </a>
                </li>
                <li class="" role="">
                    <a href="https://crunchydata.github.io/postgres-operator/4.7.7/epub/postgres_operator.epub" target="_blank" rel="noopener">
                      <i class='fas fa-book'></i> <label>EPUB</label>
                    </a>
                </li>
        </nav>
        <hr>

      <b>Navigation</b>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/quickstart/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/quickstart/">Quickstart</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/">Tutorial</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/getting-started/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/getting-started/">
            Getting Started
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/create-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/create-cluster/">
            Create a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/connect-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/connect-cluster/">
            Connect to a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/customize-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/customize-cluster/">
            Customize a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/update-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/update-cluster/">
            Update a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/delete-cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/delete-cluster/">
            Delete a Postgres Cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/tls/">
            Setup TLS
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/pgbouncer/">
            pgBouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/high-availability/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/high-availability/">
            High Availability
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/pgdump/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/pgdump/">
            Logical Backups (pg_dump)
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/">Architecture</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/overview/">
            Overview
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/provisioning/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/provisioning/">
            Provisioning
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/disaster-recovery/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/disaster-recovery/">
            Disaster Recovery
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/high-availability/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/high-availability/">High-Availability</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/high-availability/multi-cluster-kubernetes/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/high-availability/multi-cluster-kubernetes/">
            Kubernetes Multi-Cluster Deployments
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/monitoring/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/monitoring/">
            Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/namespace/">
            Namespace Management
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/eventing/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/eventing/">
            Lifecycle Events
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/postgres-operator-containers-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/postgres-operator-containers-overview/">
            PostgreSQL Containers
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/storage-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/storage-overview/">
            Storage
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/users-role-overview/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/users-role-overview/">
            User &amp; Roles
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/tablespaces/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/tablespaces/">
            Tablespaces
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/pgadmin4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/architecture/pgadmin4/">
            pgAdmin 4
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/">Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/compatibility/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/compatibility/">
            Compatibility Requirements
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/configuration/">
            Configuration Resources
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/pgo-yaml-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/pgo-yaml-configuration/">
            PGO YAML
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/tls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/configuration/tls/">
            TLS
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/">Installation</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/postgres-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/postgres-operator/">
            Install PGO the Postgres Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/pgo-client/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/pgo-client/">
            Install &#34;pgo&#34; Client
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/configuration/">
            Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/prerequisites/">
            Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/installing-ansible/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/installing-ansible/">
            Installing Ansible
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/installing-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/installing-operator/">
            Installing PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/updating-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/updating-operator/">
            Updating PostgreSQL Operator
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/uninstalling-operator/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/ansible/uninstalling-operator/">
            Uninstalling PostgreSQL Operator
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/bash/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/bash/">
            Bash Scripts
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/helm/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/helm/">
            Helm Chart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/google-cloud-marketplace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/google-cloud-marketplace/">
            Google Cloud Marketplace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/operator-hub/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/other/operator-hub/">
            OperatorHub.io
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/">PostgreSQL Operator Monitoring</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/metrics-prerequisites/">
            Monitoring Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/postgres-operator-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/postgres-operator-metrics/">
            Install PostgreSQL Operator Monitoring
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/metrics-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/metrics-configuration/">
            Monitoring Configuration Reference
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/">Other Methods</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/">Ansible</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/metrics-prerequisites/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/metrics-prerequisites/">
            Metrics Prerequisites
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/installing-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/installing-metrics/">
            Installing the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/updating-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/updating-metrics/">
            Updating the Monitoring Infrastructure
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/uninstalling-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/ansible/uninstalling-metrics/">
            Uninstalling the Monitoring Infrastructure
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/helm-metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/installation/metrics/other/helm-metrics/">
            Monitoring Helm Chart
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/">Using the pgo Client</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/common-tasks/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/common-tasks/">
            Common pgo Client Tasks
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/">pgo Client Reference</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_apply/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_apply/">
            pgo apply
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_backup/">
            pgo backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_cat/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_cat/">
            pgo cat
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create/">
            pgo create
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_cluster/">
            pgo create cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_namespace/">
            pgo create namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgadmin/">
            pgo create pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgbouncer/">
            pgo create pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgorole/">
            pgo create pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_pgouser/">
            pgo create pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_policy/">
            pgo create policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_schedule/">
            pgo create schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_create_user/">
            pgo create user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete/">
            pgo delete
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_backup/">
            pgo delete backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_cluster/">
            pgo delete cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_label/">
            pgo delete label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_namespace/">
            pgo delete namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgadmin/">
            pgo delete pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgbouncer/">
            pgo delete pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgorole/">
            pgo delete pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_pgouser/">
            pgo delete pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_policy/">
            pgo delete policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_schedule/">
            pgo delete schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_delete_user/">
            pgo delete user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_df/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_df/">
            pgo df
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_failover/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_failover/">
            pgo failover
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_label/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_label/">
            pgo label
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_reload/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_reload/">
            pgo reload
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_restart/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_restart/">
            pgo restart
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_restore/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_restore/">
            pgo restore
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_scale/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_scale/">
            pgo scale
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_scaledown/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_scaledown/">
            pgo scaledown
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show/">
            pgo show
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_backup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_backup/">
            pgo show backup
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_cluster/">
            pgo show cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_config/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_config/">
            pgo show config
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_namespace/">
            pgo show namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgadmin/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgadmin/">
            pgo show pgadmin
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgbouncer/">
            pgo show pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgorole/">
            pgo show pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pgouser/">
            pgo show pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_policy/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_policy/">
            pgo show policy
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pvc/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_pvc/">
            pgo show pvc
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_schedule/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_schedule/">
            pgo show schedule
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_user/">
            pgo show user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_workflow/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_show_workflow/">
            pgo show workflow
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_status/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_status/">
            pgo status
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_test/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_test/">
            pgo test
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update/">
            pgo update
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_cluster/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_cluster/">
            pgo update cluster
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_namespace/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_namespace/">
            pgo update namespace
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgbouncer/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgbouncer/">
            pgo update pgbouncer
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgorole/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgorole/">
            pgo update pgorole
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgouser/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_pgouser/">
            pgo update pgouser
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_user/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_update_user/">
            pgo update user
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_upgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_upgrade/">
            pgo upgrade
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_version/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_version/">
            pgo version
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_watch/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/pgo-client/reference/pgo_watch/">
            pgo watch
          </a>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/custom-resources/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/custom-resources/">Using Custom Resources</a>

      </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/security/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/security/">RBAC Configuration</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/security/configure-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/security/configure-postgres-operator-rbac/">
            Configuration of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/security/install-postgres-operator-rbac/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/security/install-postgres-operator-rbac/">
            Installation of PostgreSQL Operator RBAC
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/security/api-encryption-configuration/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/security/api-encryption-configuration/">
            PostgreSQL Operator API Encryption Configuration
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/" class="dd-item parent haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/">Advanced Topics</a>
            <i class="fas fa-angle-down fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/crunchy-postgres-exporter/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/crunchy-postgres-exporter/">
            Crunchy Postgres Exporter
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/custom-configuration/" class="dd-item active">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/custom-configuration/">
            Custom Configuration
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/multi-zone-design-considerations/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/multi-zone-design-considerations/">
            Multi-Zone Cloud Considerations
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/direct-api-calls/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/direct-api-calls/">
            Rest API
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/">Upgrade</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/automatedupgrade/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/automatedupgrade/">
            Automated PostgreSQL Operator Upgrade - Operator 4.1&#43;
          </a>
        </div>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/">Manual Upgrades</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/upgrade35/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/upgrade35/">
            Manual Upgrade - Operator 3.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/upgrade4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/manual/upgrade4/">
            Manual Upgrade - Operator 4
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/metrics/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/upgrade/metrics/">
            Monitoring Upgrade Guidance
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/">Contributing</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/developer-setup/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/developer-setup/">
            Development Environment
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/documentation-updates/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/documentation-updates/">
            Updating Documentation
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/issues/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/issues/">
            Submitting Issues
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/pull-requests/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/pull-requests/">
            Submitting Pull Requests
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/" class="dd-item haschildren
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/">Release Notes</a><i class="fas fa-angle-right fa-lg category-icon"></i>

      </div>
        <ul>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.7/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.7/">
            4.7.7
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.6/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.6/">
            4.7.6
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.5/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.5/">
            4.7.5
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.4/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.4/">
            4.7.4
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.3/">
            4.7.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.2/">
            4.7.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.1/">
            4.7.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.7.0/">
            4.7.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.2/">
            4.6.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.1/">
            4.6.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.6.0/">
            4.6.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.5.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.5.1/">
            4.5.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.5.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.5.0/">
            4.5.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.4.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.4.1/">
            4.4.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.4.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.4.0/">
            4.4.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.3/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.3/">
            4.3.3
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.2/">
            4.3.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.1/">
            4.3.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.3.0/">
            4.3.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.2/">
            4.2.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.1/">
            4.2.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.2.0/">
            4.2.0
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.2/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.2/">
            4.1.2
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.1/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.1/">
            4.1.1
          </a>
        </div>
    </li>
      <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.0/" class="dd-item">
        <div>
          <a href="https://crunchydata.github.io/postgres-operator/4.7.7/releases/4.1.0/">
            4.1.0
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://crunchydata.github.io/postgres-operator/4.7.7/support/" class="dd-item
        ">
      <div>
      <a href="https://crunchydata.github.io/postgres-operator/4.7.7/support/">Support</a>

      </div>
    </li>




      <hr><nav id="TableOfContents"></nav>



      <section>
      </section>
    </ul>
  </aside>
  <section class="page">

    <div class="nav-select">
      <center>Navigation :
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/quickstart/" >
   Quickstart</option>
    <option value="/tutorial/" >
   Tutorial</option>
    <option value="/architecture/" >
   Architecture</option>
    <option value="/configuration/" >
   Configuration</option>
    <option value="/installation/" >
   Installation</option>
    <option value="/pgo-client/" >
   Using the pgo Client</option>
    <option value="/custom-resources/" >
   Using Custom Resources</option>
    <option value="/security/" >
   RBAC Configuration</option>
    <option value="/advanced/" >
   Advanced Topics</option> 
      <option value="/advanced/crunchy-postgres-exporter/" >- Crunchy Postgres Exporter</option>
      <option value="/advanced/custom-configuration/"  selected>- Custom Configuration</option>
      <option value="/advanced/multi-zone-design-considerations/" >- Multi-Zone Cloud Considerations</option>
      <option value="/advanced/direct-api-calls/" >- Rest API</option>
  
    <option value="/upgrade/" >
   Upgrade</option>
    <option value="/contributing/" >
   Contributing</option>
    <option value="/releases/" >
   Release Notes</option>
    <option value="/support/" >
   Support</option>



        </select>
      </center>
    </div>

    
      <div id="top-bar">
        
          
          
          
        <div id="top-github-link">
          <a class="github-link" href="https://crunchydata.github.io/postgres-operator/4.7.7/contributing/" target="blank">
            <i class="fa fa-info-circle"></i>
            
          </a>
          <a class="github-link" href="https://github.com/CrunchyData/postgres-operator/edit/master/docs/content/advanced/custom-configuration.md" target="blank">
            <i class="fa fa-code-fork"></i>
            
          </a>
        </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                <i class="fa fa-bars"></i>
              </a>
            </span>
            <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
            <span class="links">
            







 <a href='https://crunchydata.github.io/postgres-operator/4.7.7/'>PGO: The Postgres Operator from Crunchy Data</a> > <a href='https://crunchydata.github.io/postgres-operator/4.7.7/advanced/'>Advanced Topics</a> > Custom Configuration

 

 


            </span>
        </div>

      </div>
    

    
    <div id="body-inner">

    <h1>Custom Configuration</h1>

    

    
    

<h2 id="custom-postgresql-configuration">Custom PostgreSQL Configuration</h2>

<p>Users and administrators can specify a
custom set of PostgreSQL configuration files to be used when creating
a new PostgreSQL cluster.  The configuration files you can
change include -</p>

<ul>
<li>postgres-ha.yaml</li>
<li>setup.sql</li>
</ul>

<p>Different configurations for PostgreSQL might be defined for
the following -</p>

<ul>
<li>OLTP types of databases</li>
<li>OLAP types of databases</li>
<li>High Memory</li>
<li>Minimal Configuration for Development</li>
<li>Project Specific configurations</li>
<li>Special Security Requirements</li>
</ul>

<h4 id="global-configmap">Global ConfigMap</h4>

<p>If you create a <em>configMap</em> called <em>pgo-custom-pg-config</em> with any
of the above files within it, new clusters will use those configuration
files when setting up a new database instance.  You do <em>NOT</em> have to
specify all of the configuration files. It is entirely up to your use case
to determine which to use.</p>

<p>An example set of configuration files and a script to create the
global configMap is found at</p>

<pre><code>$PGOROOT/examples/custom-config
</code></pre>

<p>If you run the <em>create.sh</em> script there, it will create the configMap
that will include the PostgreSQL configuration files within that directory.</p>

<h4 id="config-files-purpose">Config Files Purpose</h4>

<p>The <em>postgres-ha.yaml</em> file is the main configuration file that allows for the
configuration of a wide variety of tuning parameters for you PostgreSQL cluster.
This includes various PostgreSQL settings, e.g. those that should be applied to
files such as <code>postgresql.conf</code>, <code>pg_hba.conf</code> and <code>pg_ident.conf</code>, as well as
tuning parameters for the High Availability features included in each cluster.
The various configuration settings available can be
<a href="https://access.crunchydata.com/documentation/patroni/latest/settings/index.html#settings">found here</a></p>

<p>The <em>setup.sql</em> file is a SQL file that is executed following the initialization
of a new PostgreSQL cluster, specifically after <em>initdb</em> is run when the database
is first created. Changes would be made to this if you wanted to define which
database objects are created by default.</p>

<h4 id="granular-config-maps">Granular Config Maps</h4>

<p>Granular config maps can be defined if it is necessary to use
a different set of configuration files for different clusters
rather than having a single configuration (e.g. Global Config Map).
A specific set of ConfigMaps with their own set of PostgreSQL
configuration files can be created. When creating new clusters, a
<code>--custom-config</code> flag can be passed along with the name of the
ConfigMap which will be used for that specific cluster or set of
clusters.</p>

<h4 id="defaults">Defaults</h4>

<p>If there is no reason to change the default PostgreSQL configuration
files that ship with the Crunchy Postgres container, there is no
requirement to. In this event, continue using the Operator as usual
and avoid defining a global configMap.</p>

<h2 id="create-a-postgresql-cluster-with-custom-configuration">Create a PostgreSQL Cluster With Custom Configuration</h2>

<p>The PostgreSQL Operator allows for a PostgreSQL cluster to be created with a customized configuration. To do this, one must create a ConfigMap with an entry called <code>postgres-ha.yaml</code> that contains the custom configuration. The custom configuration follows the <a href="https://access.crunchydata.com/documentation/patroni/latest/settings/">Patorni YAML format</a>. Note that parameters that are placed in the <code>bootstrap</code> section are applied once during cluster initialization. Editing these values in a working cluster require following the <a href="#modifying-postgresql-cluster-configuration">Modifying PostgreSQL Cluster Configuration</a> section.</p>

<p>For example, let&rsquo;s say we want to create a PostgreSQL cluster with <code>shared_buffers</code> set to <code>2GB</code>, <code>max_connections</code> set to <code>30</code> and <code>password_encryption</code> set to <code>scram-sha-256</code>. We would create a configuration file that looks similar to:</p>

<pre><code>---
bootstrap:
  dcs:
    postgresql:
      parameters:
        max_connections: 30
        shared_buffers: 2GB
        password_encryption: scram-sha-256
</code></pre>

<p>Save this configuration in a file called <code>postgres-ha.yaml</code>.</p>

<p>Create a <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/"><code>ConfigMap</code></a> like so:</p>

<pre><code>kubectl -n pgo create configmap hippo-custom-config --from-file=postgres-ha.yaml
</code></pre>

<p>You can then have you new PostgreSQL cluster use <code>hippo-custom-config</code> as part of its cluster initialization by using the <code>--custom-config</code> flag of <code>pgo create cluster</code>:</p>

<pre><code>pgo create cluster hippo -n pgo --custom-config=hippo-custom-config
</code></pre>

<p>After your cluster is initialized, <a href="https://crunchydata.github.io/postgres-operator/4.7.7/tutorial/connect-cluster/">connect to your cluster</a> and confirm that your settings have been applied:</p>

<pre><code>SHOW shared_buffers;

 shared_buffers
----------------
 2GB
</code></pre>

<h2 id="modifying-postgresql-cluster-configuration">Modifying PostgreSQL Cluster Configuration</h2>

<p>Once a PostgreSQL cluster has been initialized, its configuration settings
can be updated and modified as needed.  This done by modifying the
<code>&lt;clusterName&gt;-pgha-config</code> ConfigMap that is created for each individual
PostgreSQL cluster.</p>

<p>The <code>&lt;clusterName&gt;-pgha-config</code> ConfigMap is populated following cluster
initializtion, specifically using the baseline configuration settings used to
bootstrap the cluster.  Therefore, any customiztions applied using a custom
<code>postgres-ha.yaml</code> file as described in the <strong>Custom PostgreSQL Configuration</strong>
section above will also be included when the ConfigMap is populated.</p>

<p>The various configuration settings available for modifying and updating
and cluster&rsquo;s configuration can be
<a href="https://access.crunchydata.com/documentation/patroni/latest/settings/index.html#settings">found here</a>.
Please proceed with caution when modiying configuration, especially those settings
applied by default by Operator.  Certain settings are required for normal operation
of the Operator and the PostgreSQL clusters it creates, and altering these
settings could result in expected behavior.</p>

<h3 id="types-of-configuration">Types of Configuration</h3>

<p>Within the <code>&lt;clusterName&gt;-pgha-config</code> ConfigMap are two forms of configuration:</p>

<ul>
<li><strong>Distributed Configuration Store (DCS):</strong> Cluster-wide
configuration settings that are applied to all database servers in the PostgreSQL
cluster</li>
<li><strong>Local Database:</strong> Configuration settings that are applied
individually to each database server (i.e. the primary and each replica) within
the cluster.</li>
</ul>

<p>The DCS configuration settings are stored within the <code>&lt;clusterName&gt;-pgha-config</code>
ConfigMap in a configuration named <code>&lt;clusterName&gt;-dcs-config</code>, while the local
database configurations are stored in one or more configurations named
<code>&lt;serverName&gt;-local-config</code> (with one local configuration for the primary and each
replica within the cluster).  Please note that
<a href="https://access.crunchydata.com/documentation/patroni/latest/dynamic_configuration/">as described here</a>,
certain settings can only be applied via the DCS to ensure they are uniform among
the primary and all replicas within the cluster.</p>

<p>The following is an example of the both the DCS and primary configuration settings
as stored in the <code>&lt;clusterName&gt;-pgha-config</code> ConfigMap for a cluster named <code>mycluster</code>.
Please note the <code>mycluster-dcs-config</code> configuration defining the DCS configuration
for <code>mycluster</code>, along with the <code>mycluster-local-config</code> configuration defining the
local configuration for the database server named <code>mycluster</code>, which is the current
primary within the PostgreSQL cluster.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl describe cm mycluster-pgha-config   
Name:         mycluster-pgha-config
Namespace:    pgouser1
Labels:       pg-cluster<span style="color:#f92672">=</span>mycluster
              pgha-config<span style="color:#f92672">=</span><span style="color:#111">true</span>
              <span style="color:#111">vendor</span><span style="color:#f92672">=</span>crunchydata
Annotations:  &lt;none&gt;

<span style="color:#111">Data</span>
<span style="color:#f92672">====</span>
mycluster-dcs-config:
----
postgresql:
  parameters:
    archive_command: <span style="color:#111">source</span> /opt/cpm/bin/pgbackrest/pgbackrest-set-env.sh <span style="color:#f92672">&amp;&amp;</span> pgbackrest
      archive-push <span style="color:#d88200">&#34;%p&#34;</span>
    archive_mode: <span style="color:#111">true</span>
    archive_timeout: <span style="color:#ae81ff">60</span>
    log_directory: pg_log
    log_min_duration_statement: <span style="color:#ae81ff">60000</span>
    log_statement: none
    max_wal_senders: <span style="color:#ae81ff">6</span>
    shared_buffers: 128MB
    shared_preload_libraries: pgaudit.so,pg_stat_statements.so
    temp_buffers: 8MB
    unix_socket_directories: /tmp
    wal_level: logical
    work_mem: 4MB
  recovery_conf:
    restore_command: <span style="color:#111">source</span> /opt/cpm/bin/pgbackrest/pgbackrest-set-env.sh <span style="color:#f92672">&amp;&amp;</span> pgbackrest
      archive-get %f <span style="color:#d88200">&#34;%p&#34;</span>
  use_pg_rewind: <span style="color:#111">true</span>

mycluster-local-config:
----
postgresql:
  callbacks:
    on_role_change: /opt/cpm/bin/callbacks/pgha-on-role-change.sh
  create_replica_methods:
  - pgbackrest
  - basebackup
  pg_hba:
  - <span style="color:#111">local</span> all postgres peer
  - host replication primaryuser <span style="color:#ae81ff">0</span>.0.0.0/0 md5
  - host all primaryuser <span style="color:#ae81ff">0</span>.0.0.0/0 reject
  - host all all <span style="color:#ae81ff">0</span>.0.0.0/0 md5
  pgbackrest:
    command: /opt/cpm/bin/pgbackrest/pgbackrest-create-replica.sh
    keep_data: <span style="color:#111">true</span>
    no_params: <span style="color:#111">true</span>
  pgbackrest_standby:
    command: /opt/cpm/bin/pgbackrest/pgbackrest-create-replica.sh
    keep_data: <span style="color:#111">true</span>
    no_master: <span style="color:#ae81ff">1</span>
    no_params: <span style="color:#111">true</span>
  pgpass: /tmp/.pgpass
  remove_data_directory_on_rewind_failure: <span style="color:#111">true</span>
  use_unix_socket: true</code></pre></div>
<h3 id="updating-configuration-settings">Updating Configuration Settings</h3>

<p>In order to update a cluster&rsquo;s configuration settings and then apply
those settings (e.g. to the DCS and/or any individual database servers), the
DCS and local configuration settings within the <code>&lt;clusterName&gt;-pgha-config</code>
ConfigMap can be modified.  This can be done using the various commands
available using the <code>kubectl</code> client (or the <code>oc</code> client if using OpenShift)
for modifying Kubernetes resources. For instance, the following command can be
utilized to open the ConfigMap in a local text editor, and then update the
various cluster configurations as needed:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl edit configmap mycluster-pgha-config</code></pre></div>
<p>Once the <code>&lt;clusterName&gt;-pgha-config</code> ConfigMap has been updated, any
changes made will be detected by the Operator, and then applied to the
DCS and/or any individual database servers within the cluster.</p>

<h4 id="postgresql-configuration">PostgreSQL Configuration</h4>

<p>In order to update the <code>postgresql.conf</code> file for a one of more database servers, the
<code>parameters</code> section of either the DCS and/or a local database configuration can be
updated, e.g.:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">----
postgresql<span style="color:#111">:</span>
  parameters<span style="color:#111">:</span>
    max_wal_senders<span style="color:#111">:</span> <span style="color:#ae81ff">10</span></code></pre></div>
<p>The various key/value pairs provided within the <code>parameters</code> section result in the
configuration of the same settings within the <code>postgresql.conf</code> file.  Please note that
settings applied locally to a database server take precedence over those set via the DCS (with the
exception being those that must be set via the DCS, as
<a href="https://access.crunchydata.com/documentation/patroni/latest/dynamic_configuration/">described here</a>).</p>

<p>Also, please note that <code>pg_hba</code> and <code>pg_ident</code> sections exist to update both the <code>pg_hba.conf</code> and
<code>pg_ident.conf</code> PostgreSQL configuration files as needed.</p>

<h4 id="a-note-on-customizing-authentication">A Note on Customizing <code>authentication</code></h4>

<p>One of the blocks that can be modified in a <code>local</code> database setting is the
<code>authentication</code> block. This can be useful for setting customizations such as
TLS connection requirements (<code>sslmode</code>). However, one should take care when
modifying this block, as modifying certain parameters can interfere with the
management features that the PostgreSQL Operator provides.</p>

<p>In particular, one should <strong>not</strong> customize the <code>username</code> or <code>password</code>
attributes within this section as that will interface with the PostgreSQL
Operator. Additionally, is using the built-in support for certificate-based
authentication for replication users, you should not modify the <code>sslcert</code>,
<code>sslkey</code>, <code>sslrootcert</code>, and <code>sslcrl</code> entries in the <code>replication</code> block of the
<code>authentication</code> block.</p>

<h3 id="restarting-database-servers">Restarting Database Servers</h3>

<p>Changes to certain settings may require one or more PostgreSQL databases within the cluster to be
restarted.  This can be accomplished using the <code>pgo restart</code> command included with the <code>pgo</code> client.
To detect if a restart is needed for a instance within a cluster called <code>mycluster</code> after making a
configuration change, the <code>query</code> flag can be utilized with the <code>pgo restart</code> command as follows:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pgo restart mycluster2 --query

Cluster: mycluster2
INSTANCE                ROLE            STATUS          NODE            REPLICATION LAG         PENDING RESTART
mycluster               primary         running         node01                     <span style="color:#ae81ff">0</span> MB                   <span style="color:#111">false</span>
mycluster-ambq          replica         running         node01                     <span style="color:#ae81ff">0</span> MB                    true</code></pre></div>
<p>Here we can see that the <code>mycluster-ambq</code> instance (i.e. the sole replica in cluster <code>mycluster</code>)
is pending a restart, as shown by the <code>PENDING RESTART</code> column.  A restart can then be requested
as follows:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pgo restart mycluster --target mycluster-ambq
WARNING: Are you sure? <span style="color:#f92672">(</span>yes/no<span style="color:#f92672">)</span>: yes
Successfully restarted instance mycluster</code></pre></div>
<p>It is also possible to target multiple instances at the same time:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pgo restart mycluster --target mycluster --target mycluster-ambq
WARNING: Are you sure? <span style="color:#f92672">(</span>yes/no<span style="color:#f92672">)</span>: yes
Successfully restarted instance mycluster
Successfully restarted instance mycluster-ambq</code></pre></div>
<p>Or if no target is specified, the all instances within the cluster will be restarted:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pgo restart mycluster
WARNING: Are you sure? <span style="color:#f92672">(</span>yes/no<span style="color:#f92672">)</span>: yes
Successfully restarted instance mycluster
Successfully restarted instance mycluster-ambq</code></pre></div>
<h3 id="refreshing-configuration-settings">Refreshing Configuration Settings</h3>

<p>If necessary, it is possible to refresh the configuration stored within the
<code>&lt;clusterName&gt;-pgha-config</code> ConfigMap with a fresh copy of either the DCS
configuration and/or the configuration for one or more local database servers.
This is specifically done by fully deleting a configuration from the
<code>&lt;clusterName&gt;-pgha-config</code> ConfigMap.  Once a configuration has been deleted,
the Operator will detect this and refresh the ConfigMap with a fresh copy of
that specific configuration.</p>

<p>For instance, the following <code>kubectl patch</code> command can be utilized to
remove the <code>mycluster-dcs-config</code> configuration from the example above,
causing that specific configuration to be refreshed with a fresh copy of
the DCS configuration settings for <code>mycluster</code>:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl patch configmap mycluster-pgha-config <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>  --type<span style="color:#f92672">=</span><span style="color:#d88200">&#39;json&#39;</span> -p<span style="color:#f92672">=</span><span style="color:#d88200">&#39;[{&#34;op&#34;: &#34;remove&#34;, &#34;path&#34;: &#34;/data/mycluster-dcs-config&#34;}]&#39;</span></code></pre></div>
<h2 id="custom-pgbackrest-configuration">Custom pgBackRest Configuration</h2>

<p>Users can configure pgBackRest by passing the name of an existing ConfigMap to
the <code>--pgbackrest-custom-config</code> flag when creating a PostgreSQL cluster. The
entire contents of that ConfigMap appear as files in pgBackRest&rsquo;s
<a href="https://pgbackrest.org/user-guide.html"><code>config-include-path</code> directory</a>.</p>

<p>Regardless of the flags passed at creation, every PostgreSQL cluster is
automatically configured to read from a ConfigMap named
<code>&lt;clusterName&gt;-config-backrest</code> and a Secret named
<code>&lt;clusterName&gt;-config-backrest</code>. These objects can be populated either before
or <em>after</em> a PostgreSQL cluster is created. The entire contents of each appear
as files in pgBackRest&rsquo;s <code>config-include-path</code> directory.</p>

<p>Though the above is very flexible, not all pgBackRest settings can be managed
this way. There are a few that are always overridden by the PostgreSQL Operator
(the path to the PostgreSQL data directory, for example).</p>



    
      <div class="chevrons">
  <div id="navigation">
<a class="nav nav-prev" href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/crunchy-postgres-exporter/" title="Crunchy Postgres Exporter"> <i class="fa fa-chevron-left"></i><label>Crunchy Postgres Exporter</label></a>
    <a class="nav nav-next" href="https://crunchydata.github.io/postgres-operator/4.7.7/advanced/multi-zone-design-considerations/" title="Multi-Zone Cloud Considerations" style="margin-right: 0px;"><label>Multi-Zone Cloud Considerations</label><i class="fa fa-chevron-right"></i></a></div>
</div>

</section>
</article>

<footer>

<div class="footline">
  

  



</div>


<div>
</div>

<div class="text-center">
  <p><small>&copy; 2017 - 2022 Crunchy Data Solutions, Inc.</small></p>
</div>


</footer>

<link href="https://crunchydata.github.io/postgres-operator/4.7.7/css/featherlight.min.css" rel="stylesheet">
<script src="https://crunchydata.github.io/postgres-operator/4.7.7/js/featherlight.min.js"></script>

<script src="https://crunchydata.github.io/postgres-operator/4.7.7/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
